




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon and theming -->
    <meta name="theme-color" content="#ffffff" />
    <link rel="icon" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />

    <title>igraph Reference Manual</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css" integrity="sha384-QYIZto+st3yW+o8+5OHfT6S482Zsvz2WfOzpFSXMF9zqeLcFV0/wlZpMtyFcZALm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/solid.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/brands.min.css">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DY4MJME11Z"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-DY4MJME11Z');
	</script>

    <link href="/css/manual.css" rel="stylesheet">
<script async src="https://cse.google.com/cse.js?cx=003494361702844740117:dlnifinshhm"></script>

  </head>

  <body class="cc">
  <div id="wrap">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="/img/igraph_logo_white.svg" width="35"> igraph
      </a>

      
      <ul class="navbar-nav mr-auto">
        
        <li class="nav-item"><a class="nav-link" href="/c">igraph library</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
            0.9.6
          </a>
          <div class="dropdown-menu" id="doc-version-switcher">
            <a class="dropdown-item" href="#">Please wait...</a>
          </div>
        </li>
        
      </ul>
      

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" id="productsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
            <div class="dropdown-menu" aria-labelledby="productsDropdown">
              <a class="dropdown-item" href="https://r.igraph.org">igraph R package</a>
              <a class="dropdown-item" href="https://python.igraph.org">python-igraph</a>
              <a class="dropdown-item" href="http://szhorvat.net/mathematica/IGraphM">IGraph/M</a>
              <a class="dropdown-item" href="/c">igraph C library</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="https://github.com/igraph/igraphdata">igraphdata R package <i class="fa-brands fa-github"></i></a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news.html"><i class="fa-solid fa-rss"></i> News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://igraph.discourse.group"><i class="fa-solid fa-comments"></i> Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/code-of-conduct.html"><i class="fa-solid fa-gavel"></i> Code of Conduct</a>
          </li>          
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/igraph"><i class="fa-brands fa-github"></i> On GitHub</a>
          </li>
        </ul>
      </div>
    </nav>
    
    

    <div class="jumbotron">
      <div class="container">
        <h1 class="display-4">igraph Reference Manual</h1>
        <p class="lead">For using the igraph C library</p>
      </div>
      <canvas id="jumbotron-anim"></canvas>
    </div>

    

    <div class="container search-box-container">
  <div class="row">
    <div class="col-md-12 d-flex flex-row align-items-middle">
      <div class="search-label">Search the manual:</div>
	  <div style="flex: 1; margin: -1em 0 -1em 0"><div class="gcse-search" data-personalizedAds="false"></div></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="bs-docs-section">
        
<div class="navigation-header mb-4" width="100%" summary="Navigation header"><div class="btn-group">
<a accesskey="p" class="btn btn-light" href="igraph-Layout.html"><i class="fa fa-chevron-left"></i>
              Previous
            </a><a accesskey="h" class="btn btn-light" href="index.html"><i class="fa fa-home"></i>
              Home
            </a><a accesskey="n" class="btn btn-light" href="igraph-Flows.html"><i class="fa fa-chevron-right"></i>
              Next
            </a>
</div></div>
<div class="chapter">
<div class="titlepage"><div><div><h1 class="title">
<a name="igraph-Foreign"></a>Chapter 21. Reading and writing graphs from and to files</h1></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="igraph-Foreign.html#simple-edge-list-and-similar-formats">1. Simple edge list and similar formats</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#binary-formats">2. Binary formats</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#graphml-format">3. GraphML format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#gml-format">4. GML format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#pajek-format">5. Pajek format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#ucinets-dl-file-format">6. UCINET's DL file format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#graphviz-format">7. Graphviz format</a></span></dt>
</dl></div>
<p>These functions can write a graph to a file, or read a graph
from a file.</p>
<p>Note that as <span class="command"><strong>igraph</strong></span> uses the traditional C streams, it is
possible to read/write files from/to memory, at least on GNU
operating systems supporting <span class="quote">“<span class="quote">non-standard</span>”</span> streams.</p>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="simple-edge-list-and-similar-formats"></a>1. Simple edge list and similar formats</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_edgelist">1.1. <code class="function">igraph_read_graph_edgelist</code> —  Reads an edge list from a file and creates a graph.</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_edgelist">1.2. <code class="function">igraph_write_graph_edgelist</code> —  Writes the edge list of a graph to a file.</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_ncol">1.3. <code class="function">igraph_read_graph_ncol</code> —  Reads a <code class="literal">.ncol</code> file used by LGL.</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_ncol">1.4. <code class="function">igraph_write_graph_ncol</code> —  Writes the graph to a file in <code class="literal">.ncol</code> format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_lgl">1.5. <code class="function">igraph_read_graph_lgl</code> —  Reads a graph from an <code class="literal">.lgl</code> file</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_lgl">1.6. <code class="function">igraph_write_graph_lgl</code> —  Writes the graph to a file in <code class="literal">.lgl</code> format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_dimacs">1.7. <code class="function">igraph_read_graph_dimacs</code> —  Read a graph in DIMACS format.</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_dimacs">1.8. <code class="function">igraph_write_graph_dimacs</code> —  Write a graph in DIMACS format.</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_edgelist"></a>1.1. <code class="function">igraph_read_graph_edgelist</code> —  Reads an edge list from a file and creates a graph.</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_edgelist(igraph_t *graph, FILE *instream,
                               igraph_integer_t n, igraph_bool_t directed);
</pre></div>
<p>
</p>
<p>




</p>
<p>
This format is simply a series of an even number of non-negative integers separated by
whitespace. The integers represent vertex IDs. Placing each edge (i.e. pair of integers)
on a separate line is not required, but it is recommended for readability.
Edges of directed graphs are assumed to be in "from, to" order.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  Pointer to a stream, it should be readable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>n</code></em>:</span></p></td>
<td><p>
  The number of vertices in the graph. If smaller than the
       largest integer in the file it will be ignored. It is thus
       safe to supply zero here.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directed</code></em>:</span></p></td>
<td><p>
  Logical, if true the graph is directed, if false it
       will be undirected.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_PARSEERROR</code>: if there is a
        problem reading the file, or the file is syntactically
        incorrect.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|V|+|E|), the
number of vertices plus the number of edges. It is assumed that
reading an integer requires O(1)
time.
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_edgelist"></a>1.2. <code class="function">igraph_write_graph_edgelist</code> —  Writes the edge list of a graph to a file.</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.3.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_edgelist(const igraph_t *graph, FILE *outstream);
</pre></div>
<p>
</p>
<p>




</p>
<p>
One edge is written per line, separated by a single space.
For directed graphs edges are written in from, to order.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph object to write.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  Pointer to a stream, it should be writable.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_EFILE</code> if there is an error writing the
        file.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|E|), the
number of edges in the  graph. It is assumed that writing an
integer to the file requires O(1)
time.
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_ncol"></a>1.3. <code class="function">igraph_read_graph_ncol</code> —  Reads a <code class="literal">.ncol</code> file used by LGL.</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.4.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_ncol(igraph_t *graph, FILE *instream,
                           const igraph_strvector_t *predefnames,
                           igraph_bool_t names,
                           igraph_add_weights_t weights,
                           igraph_bool_t directed);
</pre></div>
<p>
</p>
<p>




Also useful for creating graphs from <span class="quote">“<span class="quote">named</span>”</span> (and
optionally weighted) edge lists.

</p>
<p>
This format is used by the Large Graph Layout program
(<a class="ulink" href="http://lgl.sourceforge.net" target="_top">http://lgl.sourceforge.net</a>), and it is simply a
symbolic weighted edge list. It is a simple text file with one edge
per line. An edge is defined by two symbolic vertex names separated
by whitespace. (The symbolic vertex names themselves cannot contain
whitespace. They might follow by an optional number, this will be
the weight of the edge; the number can be negative and can be in
scientific notation. If there is no weight specified to an edge it
is assumed to be zero.

</p>
<p>
The resulting graph is always undirected.
LGL cannot deal with files which contain multiple or loop edges,
this is however not checked here, as <span class="command"><strong>igraph</strong></span> is happy with
these.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  Pointer to a stream, it should be readable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>predefnames</code></em>:</span></p></td>
<td><p>
  Pointer to the symbolic names of the vertices in
       the file. If <code class="constant">NULL</code> is given here then vertex ids will be
       assigned to vertex names in the order of their appearance in
       the \c .ncol file. If it is not <code class="constant">NULL</code> and some unknown
       vertex names are found in the \c .ncol file then new vertex
       ids will be assigned to them.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>names</code></em>:</span></p></td>
<td><p>
  Logical value, if TRUE the symbolic names of the
       vertices will be added to the graph as a vertex attribute
       called <span class="quote">“<span class="quote">name</span>”</span>.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weights</code></em>:</span></p></td>
<td><p>
  Whether to add the weights of the edges to the
       graph as an edge attribute called <span class="quote">“<span class="quote">weight</span>”</span>.
       <code class="constant">IGRAPH_ADD_WEIGHTS_YES</code> adds the weights (even if they
       are not present in the file, in this case they are assumed
       to be zero). <code class="constant">IGRAPH_ADD_WEIGHTS_NO</code> does not add any
       edge attribute. <code class="constant">IGRAPH_ADD_WEIGHTS_IF_PRESENT</code> adds the
       attribute if and only if there is at least one explicit
       edge weight in the input file.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directed</code></em>:</span></p></td>
<td><p>
  Whether to create a directed graph. As this format
       was originally used only for undirected graphs there is no
       information in the file about the directedness of the graph.
       Set this parameter to <code class="constant">IGRAPH_DIRECTED</code> or <code class="constant">IGRAPH_UNDIRECTED</code> to create a directed or undirected graph.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_PARSEERROR</code>: if there is a
         problem reading
        the file, or the file is syntactically incorrect.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity:
O(|V|+|E|log(|V|)) if we neglect
the time required by the parsing. As usual
|V| is the number of vertices,
while |E| is the number of edges.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file"><code class="function">igraph_read_graph_lgl()</code></a>, <a class="link" href="igraph-Foreign.html#igraph_write_graph_ncol" title="1.4. igraph_write_graph_ncol — Writes the graph to a file in .ncol format"><code class="function">igraph_write_graph_ncol()</code></a>
  </p></td>
</tr></tbody>
</table></div>
<p>
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_ncol"></a>1.4. <code class="function">igraph_write_graph_ncol</code> —  Writes the graph to a file in <code class="literal">.ncol</code> format</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.5.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_ncol(const igraph_t *graph, FILE *outstream,
                            const char *names, const char *weights);
</pre></div>
<p>
</p>
<p>




</p>
<p>
<code class="literal">.ncol</code> is a format used by LGL, see <a class="link" href="igraph-Foreign.html#igraph_read_graph_ncol" title="1.3. igraph_read_graph_ncol — Reads a .ncol file used by LGL."><code class="function">igraph_read_graph_ncol()</code></a> for details.

</p>
<p>
Note that having multiple or loop edges in an
<code class="literal">.ncol</code> file breaks the  LGL software but
<span class="command"><strong>igraph</strong></span> does not check for this condition.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph to write.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The stream object to write to, it should be
       writable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>names</code></em>:</span></p></td>
<td><p>
  The name of the vertex attribute, if symbolic names
       are written to the file. If not, supply 0 here.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weights</code></em>:</span></p></td>
<td><p>
  The name of the edge attribute, if they are also
       written to the file. If you don't want weights, supply 0
       here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_EFILE</code> if there is an error writing the
        file.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|E|), the
number of edges. All file operations are expected to have time
complexity O(1).

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_ncol" title="1.3. igraph_read_graph_ncol — Reads a .ncol file used by LGL."><code class="function">igraph_read_graph_ncol()</code></a>, <a class="link" href="igraph-Foreign.html#igraph_write_graph_lgl" title="1.6. igraph_write_graph_lgl — Writes the graph to a file in .lgl format"><code class="function">igraph_write_graph_lgl()</code></a>
  </p></td>
</tr></tbody>
</table></div>
<p>
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_lgl"></a>1.5. <code class="function">igraph_read_graph_lgl</code> —  Reads a graph from an <code class="literal">.lgl</code> file</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.6.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_lgl(igraph_t *graph, FILE *instream,
                          igraph_bool_t names,
                          igraph_add_weights_t weights,
                          igraph_bool_t directed);
</pre></div>
<p>
</p>
<p>




</p>
<p>
The <code class="literal">.lgl</code> format is used by the Large Graph
Layout visualization software
(<a class="ulink" href="http://lgl.sourceforge.net" target="_top">http://lgl.sourceforge.net</a>), it can
describe undirected optionally weighted graphs. From the LGL
manual:

</p>
<div class="blockquote"><blockquote class="blockquote">
<p>The second format is the LGL file format
(<code class="literal">.lgl</code> file
suffix). This is yet another graph file format that tries to be as
stingy as possible with space, yet keeping the edge file in a human
readable (not binary) format. The format itself is like the
following:
</p>
<div class="informalexample"><pre class="programlisting"> # vertex1name
vertex2name [optionalWeight]
vertex3name [optionalWeight] </pre></div>
<p>
Here, the first vertex of an edge is preceded with a pound sign
'#'.  Then each vertex that shares an edge with that vertex is
listed one per line on subsequent lines.</p>
</blockquote></div>
<p>

</p>
<p>
LGL cannot handle loop and multiple edges or directed graphs, but
in <span class="command"><strong>igraph</strong></span> it is not an error to have multiple and loop edges.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  A stream, it should be readable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>names</code></em>:</span></p></td>
<td><p>
  Logical value, if TRUE the symbolic names of the
       vertices will be added to the graph as a vertex attribute
       called <span class="quote">“<span class="quote">name</span>”</span>.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weights</code></em>:</span></p></td>
<td><p>
  Whether to add the weights of the edges to the
       graph as an edge attribute called <span class="quote">“<span class="quote">weight</span>”</span>.
       <code class="constant">IGRAPH_ADD_WEIGHTS_YES</code> adds the weights (even if they
       are not present in the file, in this case they are assumed
       to be zero). <code class="constant">IGRAPH_ADD_WEIGHTS_NO</code> does not add any
       edge attribute. <code class="constant">IGRAPH_ADD_WEIGHTS_IF_PRESENT</code> adds the
       attribute if and only if there is at least one explicit
       edge weight in the input file.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directed</code></em>:</span></p></td>
<td><p>
  Whether to create a directed graph. As this format
       was originally used only for undirected graphs there is no
       information in the file about the directedness of the graph.
       Set this parameter to <code class="constant">IGRAPH_DIRECTED</code> or <code class="constant">IGRAPH_UNDIRECTED</code> to create a directed or undirected graph.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_PARSEERROR</code>: if there is a
        problem reading the file, or the file is syntactically
        incorrect.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity:
O(|V|+|E|log(|V|)) if we neglect
the time required by the parsing. As usual
|V| is the number of vertices,
while |E| is the number of edges.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_ncol" title="1.3. igraph_read_graph_ncol — Reads a .ncol file used by LGL."><code class="function">igraph_read_graph_ncol()</code></a>, <a class="link" href="igraph-Foreign.html#igraph_write_graph_lgl" title="1.6. igraph_write_graph_lgl — Writes the graph to a file in .lgl format"><code class="function">igraph_write_graph_lgl()</code></a>
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.4.6.12.1"></a><p class="title"><b>Example 21.1.  File <code class="code">examples/simple/igraph_read_graph_lgl.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph R package.</em></span>
<span class="emphasis"><em>   Copyright (C) 2005-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard st, Cambridge MA, 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;

int <span class="strong"><strong>main</strong></span>() {

    igraph_t g;
    FILE *input;

    <span class="emphasis"><em>/* Without names and weights */</em></span>
    input = <span class="strong"><strong>fopen</strong></span>("igraph_read_graph_lgl-1.lgl", "r");
    <span class="strong"><strong>if</strong></span> (!input) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file">igraph_read_graph_lgl</a></strong></span>(&amp;g, input, 0, IGRAPH_ADD_WEIGHTS_NO, 1);
    <span class="strong"><strong>fclose</strong></span>(input);
    <span class="strong"><strong>if</strong></span> (!<span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g)) {
        <span class="strong"><strong>return</strong></span> 2;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* With names and weights */</em></span>
    input = <span class="strong"><strong>fopen</strong></span>("igraph_read_graph_lgl-2.lgl", "r");
    <span class="strong"><strong>if</strong></span> (!input) {
        <span class="strong"><strong>return</strong></span> 3;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file">igraph_read_graph_lgl</a></strong></span>(&amp;g, input, 0, IGRAPH_ADD_WEIGHTS_NO, 1);
    <span class="strong"><strong>fclose</strong></span>(input);
    <span class="strong"><strong>if</strong></span> (!<span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g)) {
        <span class="strong"><strong>return</strong></span> 4;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_ncol" title="1.4. igraph_write_graph_ncol — Writes the graph to a file in .ncol format">igraph_write_graph_ncol</a></strong></span>(&amp;g, stdout, 0, 0);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Same graph, but forcing undirected mode */</em></span>
    input = <span class="strong"><strong>fopen</strong></span>("igraph_read_graph_lgl-2.lgl", "r");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file">igraph_read_graph_lgl</a></strong></span>(&amp;g, input, 0, IGRAPH_ADD_WEIGHTS_NO, 0);
    <span class="strong"><strong>fclose</strong></span>(input);
    <span class="strong"><strong>if</strong></span> (<span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g)) {
        <span class="strong"><strong>return</strong></span> 5;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_ncol" title="1.4. igraph_write_graph_ncol — Writes the graph to a file in .ncol format">igraph_write_graph_ncol</a></strong></span>(&amp;g, stdout, 0, 0);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Erroneous LGL file (empty vertex name) */</em></span>
    input = <span class="strong"><strong>fopen</strong></span>("igraph_read_graph_lgl-3.lgl", "r");
    <span class="strong"><strong>if</strong></span> (!input) {
        <span class="strong"><strong>return</strong></span> 6;
    }
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_ignore" title="2.3. igraph_error_handler_ignore — Ignore errors.">igraph_error_handler_ignore</a>);
    <span class="strong"><strong>if</strong></span> (<span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file">igraph_read_graph_lgl</a></strong></span>(&amp;g, input, 0, IGRAPH_ADD_WEIGHTS_NO, 1) !=
        IGRAPH_PARSEERROR) {
        <span class="strong"><strong>return</strong></span> 7;
    }
    <span class="strong"><strong>fclose</strong></span>(input);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_lgl"></a>1.6. <code class="function">igraph_write_graph_lgl</code> —  Writes the graph to a file in <code class="literal">.lgl</code> format</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.7.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_lgl(const igraph_t *graph, FILE *outstream,
                           const char *names, const char *weights,
                           igraph_bool_t isolates);
</pre></div>
<p>
</p>
<p>




</p>
<p>
<code class="literal">.lgl</code> is a format used by LGL, see <a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file"><code class="function">igraph_read_graph_lgl()</code></a> for details.

</p>
<p>
Note that having multiple or loop edges in an
<code class="literal">.lgl</code> file breaks the  LGL software but <span class="command"><strong>igraph</strong></span>
does not check for this condition.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph to write.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The stream object to write to, it should be
       writable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>names</code></em>:</span></p></td>
<td><p>
  The name of the vertex attribute, if symbolic names
       are written to the file. If not supply 0 here.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weights</code></em>:</span></p></td>
<td><p>
  The name of the edge attribute, if they are also
       written to the file. If you don't want weights supply 0
       here.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>isolates</code></em>:</span></p></td>
<td><p>
  Logical, if TRUE isolated vertices are also written
       to the file. If FALSE they will be omitted.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_EFILE</code> if there is an error
        writing the file.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|E|), the
number of edges if <em class="parameter"><code>isolates</code></em> is
FALSE, O(|V|+|E|) otherwise. All
file operations are expected to have time complexity
O(1).

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_lgl" title="1.5. igraph_read_graph_lgl — Reads a graph from an .lgl file"><code class="function">igraph_read_graph_lgl()</code></a>, <a class="link" href="igraph-Foreign.html#igraph_write_graph_ncol" title="1.4. igraph_write_graph_ncol — Writes the graph to a file in .ncol format"><code class="function">igraph_write_graph_ncol()</code></a>
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.4.7.12.1"></a><p class="title"><b>Example 21.2.  File <code class="code">examples/simple/igraph_write_graph_lgl.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;

int <span class="strong"><strong>main</strong></span>() {

    igraph_t g;
    igraph_strvector_t names, weights;
    int i;
    char str[2] = " ";
    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#igraph_set_attribute_table" title="1.2. igraph_set_attribute_table — Attach an attribute table.">igraph_set_attribute_table</a></strong></span>(&amp;igraph_cattribute_table);
    <span class="strong"><strong><a class="link" href="igraph-Generators.html#igraph_small" title="1.2. igraph_small — Shorthand to create a small graph, giving the edges as arguments.">igraph_small</a></strong></span>(&amp;g, 7, IGRAPH_UNDIRECTED, 0, 1, 0, 2, 1, 2, 1, 3, 2, 4, 3, 4, -1);


    <span class="strong"><strong>printf</strong></span>("Output without isolates:\n");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_lgl" title="1.6. igraph_write_graph_lgl — Writes the graph to a file in .lgl format">igraph_write_graph_lgl</a></strong></span>(&amp;g, stdout, <span class="emphasis"><em>/*names*/</em></span> NULL, <span class="emphasis"><em>/*weights*/</em></span> NULL, <span class="emphasis"><em>/*isolates*/</em></span> 0);


    <span class="strong"><strong>printf</strong></span>("\nOutput with isolates:\n");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_lgl" title="1.6. igraph_write_graph_lgl — Writes the graph to a file in .lgl format">igraph_write_graph_lgl</a></strong></span>(&amp;g, stdout, <span class="emphasis"><em>/*names*/</em></span> NULL, <span class="emphasis"><em>/*weights*/</em></span> NULL, <span class="emphasis"><em>/*isolates*/</em></span> 1);


    <span class="strong"><strong>printf</strong></span>("\nOutput vertex and edge labels:\n");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_init" title="9.1. igraph_strvector_init — Initialize">igraph_strvector_init</a></strong></span>(&amp;names, 7);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; 7; i++) {
        str[0] = 'A' + i;
        <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_set" title="9.6. igraph_strvector_set — Set an element">igraph_strvector_set</a></strong></span>(&amp;names, i, str);
    }
    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#SETVASV" title="3.2.24. SETVASV — Set a string vertex attribute for all vertices">SETVASV</a></strong></span>(&amp;g, "names", &amp;names);

    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_init" title="9.1. igraph_strvector_init — Initialize">igraph_strvector_init</a></strong></span>(&amp;weights, 6);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; 6; i++) {
        str[0] = '3' + i;
        <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_set" title="9.6. igraph_strvector_set — Set an element">igraph_strvector_set</a></strong></span>(&amp;weights, i, str);
    }
    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#SETEASV" title="3.2.30. SETEASV — Set a string edge attribute for all edges">SETEASV</a></strong></span>(&amp;g, "weights", &amp;weights);

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_lgl" title="1.6. igraph_write_graph_lgl — Writes the graph to a file in .lgl format">igraph_write_graph_lgl</a></strong></span>(&amp;g, stdout, "names", "weights", <span class="emphasis"><em>/*isolates*/</em></span> 0);

    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_destroy" title="9.3. igraph_strvector_destroy — Free allocated memory">igraph_strvector_destroy</a></strong></span>(&amp;names);
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_destroy" title="9.3. igraph_strvector_destroy — Free allocated memory">igraph_strvector_destroy</a></strong></span>(&amp;weights);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_dimacs"></a>1.7. <code class="function">igraph_read_graph_dimacs</code> —  Read a graph in DIMACS format.</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.8.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_dimacs(igraph_t *graph, FILE *instream,
                             igraph_strvector_t *problem,
                             igraph_vector_t *label,
                             igraph_integer_t *source,
                             igraph_integer_t *target,
                             igraph_vector_t *capacity,
                             igraph_bool_t directed);
</pre></div>
<p>
</p>
<p>



This function reads the DIMACS file format, more specifically the
version for network flow problems, see the files at
ftp://dimacs.rutgers.edu/pub/netflow/general-info/

</p>
<p>
This is a line-oriented text file (ASCII) format. The first
character of each line defines the type of the line. If the first
character is <code class="literal">c</code> the line is a comment line and it is
ignored. There is one problem line (<code class="literal">p</code> in the file, it
must appear before any node and arc descriptor lines. The problem
line has three fields separated by spaces: the problem type
(<code class="literal">min</code>, <code class="literal">max</code> or <code class="literal">asn</code>), the
number of vertices and number of edges in the graph.
Exactly two node identification lines are expected
(<code class="literal">n</code>), one for the source, one for the target vertex.
These have two fields: the id of the vertex and the type of the
vertex, either <code class="literal">s</code> (=source) or <code class="literal">t</code>
(=target). Arc lines start with <code class="literal">a</code> and have three
fields: the source vertex, the target vertex and the edge capacity.

</p>
<p>
Vertex ids are numbered from 1.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  The file to read from.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>source</code></em>:</span></p></td>
<td><p>
  Pointer to an integer, the id of the source node will
   be stored here. (The igraph vertex id, which is one less than
   the actual number in the file.) It is ignored if
   <code class="literal">NULL</code>.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>target</code></em>:</span></p></td>
<td><p>
  Pointer to an integer, the (igraph) id of the target
   node will be stored here. It is ignored if <code class="literal">NULL</code>.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>capacity</code></em>:</span></p></td>
<td><p>
  Pointer to an initialized vector, the capacity of
   the edges will be stored here if not <code class="literal">NULL</code>.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directed</code></em>:</span></p></td>
<td><p>
  Boolean, whether to create a directed graph.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|V|+|E|+c), the number of vertices plus the
number of edges, plus the size of the file in characters.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_write_graph_dimacs" title="1.8. igraph_write_graph_dimacs — Write a graph in DIMACS format."><code class="function">igraph_write_graph_dimacs()</code></a>
  </p></td>
</tr></tbody>
</table></div>
<p>
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_dimacs"></a>1.8. <code class="function">igraph_write_graph_dimacs</code> —  Write a graph in DIMACS format.</h3></div></div></div>
<a class="indexterm" name="id-1.22.4.9.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_dimacs(const igraph_t *graph, FILE *outstream,
                              long int source, long int target,
                              const igraph_vector_t *capacity);
</pre></div>
<p>
</p>
<p>



This function writes a graph to an output stream in DIMACS format,
describing a maximum flow problem.
See ftp://dimacs.rutgers.edu/pub/netflow/general-info/

</p>
<p>
This file format is discussed in the documentation of <a class="link" href="igraph-Foreign.html#igraph_read_graph_dimacs" title="1.7. igraph_read_graph_dimacs — Read a graph in DIMACS format."><code class="function">igraph_read_graph_dimacs()</code></a>, see that for more information.

</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph to write to the stream.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The stream.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>source</code></em>:</span></p></td>
<td><p>
  Integer, the id of the source vertex for the maximum
    flow.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>target</code></em>:</span></p></td>
<td><p>
  Integer, the id of the target vertex.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>capacity</code></em>:</span></p></td>
<td><p>
  Pointer to an initialized vector containing the
    edge capacity values.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|E|), the number of edges in the graph.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  igraph_read_graph_dimacs()
  </p></td>
</tr></tbody>
</table></div>
<p>
 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="binary-formats"></a>2. Binary formats</h2></div></div></div>
<div class="toc"><dl class="toc"><dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_graphdb">2.1. <code class="function">igraph_read_graph_graphdb</code> —  Read a graph in the binary graph database format.</a></span></dt></dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_graphdb"></a>2.1. <code class="function">igraph_read_graph_graphdb</code> —  Read a graph in the binary graph database format.</h3></div></div></div>
<a class="indexterm" name="id-1.22.5.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_graphdb(igraph_t *graph, FILE *instream,
                              igraph_bool_t directed);
</pre></div>
<p>
</p>
<p>



This is a binary format, used in the graph database
for isomorphism testing. From the (now defunct) graph database
homepage:
</p>
<div class="blockquote"><blockquote class="blockquote">
<p>
The graphs are stored in a compact binary format, one graph per
file. The file is composed of 16 bit words, which are represented
using the so-called little-endian convention, i.e. the least
significant byte of the word is stored first.</p>
<p>
Then, for each node, the file contains the list of edges coming
out of the node itself. The list is represented by a word encoding
its length, followed by a word for each edge, representing the
destination node of the edge. Node numeration is 0-based, so the
first node of the graph has index 0.</p>
</blockquote></div>
<p>
Only unlabelled graphs are implemented.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  The stream to read from.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directed</code></em>:</span></p></td>
<td><p>
  Logical scalar, whether to create a directed graph.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|V|+|E|), the number of vertices plus the
number of edges.

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.5.2.10.1"></a><p class="title"><b>Example 21.3.  File <code class="code">examples/simple/igraph_read_graph_graphdb.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2007-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard st, Cambridge MA, 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;

int <span class="strong"><strong>main</strong></span>() {

    igraph_t g;
    FILE *input;

    input = <span class="strong"><strong>fopen</strong></span>("iso_b03_m1000.A00", "rb");
    <span class="strong"><strong>if</strong></span> (!input) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphdb" title="2.1. igraph_read_graph_graphdb — Read a graph in the binary graph database format.">igraph_read_graph_graphdb</a></strong></span>(&amp;g, input, IGRAPH_DIRECTED);
    <span class="strong"><strong>fclose</strong></span>(input);
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="graphml-format"></a>3. GraphML format</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_graphml">3.1. <code class="function">igraph_read_graph_graphml</code> —  Reads a graph from a GraphML file.</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_graphml">3.2. <code class="function">igraph_write_graph_graphml</code> —  Writes the graph to a file in GraphML format</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_graphml"></a>3.1. <code class="function">igraph_read_graph_graphml</code> —  Reads a graph from a GraphML file.</h3></div></div></div>
<a class="indexterm" name="id-1.22.6.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_graphml(igraph_t *graph, FILE *instream, int index);
</pre></div>
<p>
</p>
<p>




</p>
<p>
GraphML is an XML-based file format for representing various types of
graphs. Currently only the most basic import functionality is implemented
in igraph: it can read GraphML files without nested graphs and hyperedges.
Attributes of the graph are loaded only if an attribute interface
is attached, i.e. if you use igraph from R or Python.

</p>
<p>
Graph attribute names are taken from the <code class="literal">attr.name</code> attributes of the
<code class="constant">key</code> tags in the GraphML file. Since <code class="literal">attr.name</code> is not mandatory,
igraph will fall back to the <code class="constant">id</code> attribute of the <code class="constant">key</code> tag if
<code class="literal">attr.name</code> is missing.

</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  A stream, it should be readable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em>:</span></p></td>
<td><p>
  If the GraphML file contains more than one graph, the one
             specified by this index will be loaded. Indices start from
             zero, so supply zero here if your GraphML file contains only
             a single graph.</p></td>
</tr>
</tbody>
</table></div>
<p>


</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_PARSEERROR</code>: if there is a
        problem reading the file, or the file is syntactically
        incorrect.
        <code class="constant">IGRAPH_UNIMPLEMENTED</code>: the GraphML functionality was disabled
        at compile-time
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.6.2.10.1"></a><p class="title"><b>Example 21.4.  File <code class="code">examples/simple/graphml.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2006-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard street, Cambridge, MA 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>
<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;unistd.h&gt;     <span class="emphasis"><em>/* unlink */</em></span>

void <span class="strong"><strong>custom_warning_handler</strong></span> (<span class="strong"><strong>const</strong></span> char *reason, <span class="strong"><strong>const</strong></span> char *file,
                             int line, int igraph_errno) {
    <span class="strong"><strong>printf</strong></span>("Warning: %s\n", reason);
}

void <span class="strong"><strong>dump_graph</strong></span>(<span class="strong"><strong>const</strong></span> char* header, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    <span class="strong"><strong>fputs</strong></span>(header, stdout);
    <span class="strong"><strong>printf</strong></span>("Vertices: %li\n", (long int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g));
    <span class="strong"><strong>printf</strong></span>("Edges: %li\n", (long int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_ecount" title="3.2.2. igraph_ecount — The number of edges in a graph.">igraph_ecount</a></strong></span>(g));
    <span class="strong"><strong>printf</strong></span>("Directed: %i\n", (int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(g));
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(g, stdout);
}

void <span class="strong"><strong>dump_vertex_attribute_bool</strong></span>(<span class="strong"><strong>const</strong></span> char* name, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    long int i, n = <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g);

    <span class="strong"><strong>printf</strong></span>("Vertex attribute '%s':", name);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; n; i++) {
        <span class="strong"><strong>printf</strong></span>(" %s", <span class="strong"><strong><a class="link" href="igraph-Attributes.html#VAB" title="3.1.14. VAB — Query a boolean vertex attribute.">VAB</a></strong></span>(g, name, i) ? "true" : "false");
    }
    <span class="strong"><strong>printf</strong></span>("\n");
}

void <span class="strong"><strong>dump_vertex_attribute_numeric</strong></span>(<span class="strong"><strong>const</strong></span> char* name, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    long int i, n = <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g);

    <span class="strong"><strong>printf</strong></span>("Vertex attribute '%s':", name);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; n; i++) {
        <span class="strong"><strong>printf</strong></span>(" %g", (float)<span class="strong"><strong><a class="link" href="igraph-Attributes.html#VAN" title="3.1.10. VAN — Query a numeric vertex attribute.">VAN</a></strong></span>(g, name, i));
    }
    <span class="strong"><strong>printf</strong></span>("\n");
}

void <span class="strong"><strong>dump_vertex_attribute_string</strong></span>(<span class="strong"><strong>const</strong></span> char* name, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    long int i, n = <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g);

    <span class="strong"><strong>printf</strong></span>("Vertex attribute '%s':", name);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; n; i++) {
        <span class="strong"><strong>printf</strong></span>(" %s", <span class="strong"><strong><a class="link" href="igraph-Attributes.html#VAS" title="3.1.18. VAS — Query a string vertex attribute.">VAS</a></strong></span>(g, name, i));
    }
    <span class="strong"><strong>printf</strong></span>("\n");
}

int <span class="strong"><strong>main</strong></span>() {
    igraph_t g;
    <a class="link" href="igraph-Error.html#igraph_error_handler_t" title="2.1. igraph_error_handler_t — The type of error handler functions.">igraph_error_handler_t</a>* oldhandler;
    <a class="link" href="igraph-Error.html#igraph_warning_handler_t" title="4.1. igraph_warning_handler_t — The type of igraph warning handler functions.">igraph_warning_handler_t</a>* oldwarnhandler;
    int result;
    FILE *ifile, *ofile;

    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#igraph_set_attribute_table" title="1.2. igraph_set_attribute_table — Attach an attribute table.">igraph_set_attribute_table</a></strong></span>(&amp;igraph_cattribute_table);

    <span class="emphasis"><em>/* GraphML */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("test.gxl", "r");
    <span class="strong"><strong>if</strong></span> (ifile == 0) {
        <span class="strong"><strong>return</strong></span> 10;
    }

    oldhandler = <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_ignore" title="2.3. igraph_error_handler_ignore — Ignore errors.">igraph_error_handler_ignore</a>);
    oldwarnhandler = <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_warning_handler" title="4.2. igraph_set_warning_handler — Installs a warning handler.">igraph_set_warning_handler</a></strong></span>(custom_warning_handler);
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="emphasis"><em>/* maybe it is simply disabled at compile-time */</em></span>
        <span class="strong"><strong>if</strong></span> (result == IGRAPH_UNIMPLEMENTED) {
            <span class="strong"><strong>return</strong></span> 77;
        }
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(oldhandler);

    <span class="strong"><strong>fclose</strong></span>(ifile);

    <span class="emphasis"><em>/* Write it back */</em></span>
    ofile = <span class="strong"><strong>fopen</strong></span>("test2.gxl", "w");
    <span class="emphasis"><em>/* If we can't create the test file, just skip the test */</em></span>
    <span class="strong"><strong>if</strong></span> (ofile) {
        <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_graphml" title="3.2. igraph_write_graph_graphml — Writes the graph to a file in GraphML format">igraph_write_graph_graphml</a></strong></span>(&amp;g, ofile, <span class="emphasis"><em>/*prefixattr=*/</em></span> 1))) {
            <span class="strong"><strong>return</strong></span> 1;
        }
        <span class="strong"><strong>fclose</strong></span>(ofile);
        <span class="strong"><strong>unlink</strong></span>("test2.gxl");
    }
    <span class="strong"><strong>dump_graph</strong></span>("The directed graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* The same with undirected graph */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("test.gxl", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The undirected graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a GraphML file with default attributes */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-default-attrs.xml", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The directed graph:\n", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_bool</strong></span>("type", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_string</strong></span>("gender", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_numeric</strong></span>("age", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_bool</strong></span>("retired", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a GraphML file with namespaces */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-namespace.xml", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The undirected graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a not-really-valid GraphML file as it has no namespace information */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-lenient.xml", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The undirected graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a completely malformed GraphML file */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-malformed.xml", "r");
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_ignore" title="2.3. igraph_error_handler_ignore — Ignore errors.">igraph_error_handler_ignore</a>);
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_warning_handler" title="4.2. igraph_set_warning_handler — Installs a warning handler.">igraph_set_warning_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_warning_handler_ignore" title="4.7. igraph_warning_handler_ignore — Ignores all warnings.">igraph_warning_handler_ignore</a>);
    result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0);
    <span class="strong"><strong>if</strong></span> (result != IGRAPH_PARSEERROR) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Restore the old error handler */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_abort" title="2.2. igraph_error_handler_abort — Abort program in case of error.">igraph_error_handler_abort</a>);

    <span class="emphasis"><em>/* Restore the old warning handler */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_warning_handler" title="4.2. igraph_set_warning_handler — Installs a warning handler.">igraph_set_warning_handler</a></strong></span>(oldwarnhandler);

    <span class="emphasis"><em>/* There were sometimes problems with this file */</em></span>
    <span class="emphasis"><em>/* Only if called from R though, and only on random occasions, once in every</em></span>
<span class="emphasis"><em>       ten reads. Do testing here doesn't make much sense, but if we have the file</em></span>
<span class="emphasis"><em>       then let's do it anyway. */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-hsa05010.xml", "r");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0);
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_graphml"></a>3.2. <code class="function">igraph_write_graph_graphml</code> —  Writes the graph to a file in GraphML format</h3></div></div></div>
<a class="indexterm" name="id-1.22.6.3.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_graphml(const igraph_t *graph, FILE *outstream,
                               igraph_bool_t prefixattr);
</pre></div>
<p>
</p>
<p>




</p>
<p>
GraphML is an XML-based file format for representing various types of
graphs. See the GraphML Primer (<a class="ulink" href="http://graphml.graphdrawing.org/primer/graphml-primer.html" target="_top">http://graphml.graphdrawing.org/primer/graphml-primer.html</a>)
for detailed format description.

</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph to write.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The stream object to write to, it should be
       writable.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>prefixattr</code></em>:</span></p></td>
<td><p>
  Logical value, whether to put a prefix in front of the
       attribute names to ensure uniqueness if the graph has vertex and
       edge (or graph) attributes with the same name.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code:
        <code class="constant">IGRAPH_EFILE</code> if there is an error
        writing the file.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|V|+|E|) otherwise. All
file operations are expected to have time complexity
O(1).

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.6.3.9.1"></a><p class="title"><b>Example 21.5.  File <code class="code">examples/simple/graphml.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2006-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard street, Cambridge, MA 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>
<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;unistd.h&gt;     <span class="emphasis"><em>/* unlink */</em></span>

void <span class="strong"><strong>custom_warning_handler</strong></span> (<span class="strong"><strong>const</strong></span> char *reason, <span class="strong"><strong>const</strong></span> char *file,
                             int line, int igraph_errno) {
    <span class="strong"><strong>printf</strong></span>("Warning: %s\n", reason);
}

void <span class="strong"><strong>dump_graph</strong></span>(<span class="strong"><strong>const</strong></span> char* header, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    <span class="strong"><strong>fputs</strong></span>(header, stdout);
    <span class="strong"><strong>printf</strong></span>("Vertices: %li\n", (long int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g));
    <span class="strong"><strong>printf</strong></span>("Edges: %li\n", (long int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_ecount" title="3.2.2. igraph_ecount — The number of edges in a graph.">igraph_ecount</a></strong></span>(g));
    <span class="strong"><strong>printf</strong></span>("Directed: %i\n", (int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(g));
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(g, stdout);
}

void <span class="strong"><strong>dump_vertex_attribute_bool</strong></span>(<span class="strong"><strong>const</strong></span> char* name, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    long int i, n = <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g);

    <span class="strong"><strong>printf</strong></span>("Vertex attribute '%s':", name);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; n; i++) {
        <span class="strong"><strong>printf</strong></span>(" %s", <span class="strong"><strong><a class="link" href="igraph-Attributes.html#VAB" title="3.1.14. VAB — Query a boolean vertex attribute.">VAB</a></strong></span>(g, name, i) ? "true" : "false");
    }
    <span class="strong"><strong>printf</strong></span>("\n");
}

void <span class="strong"><strong>dump_vertex_attribute_numeric</strong></span>(<span class="strong"><strong>const</strong></span> char* name, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    long int i, n = <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g);

    <span class="strong"><strong>printf</strong></span>("Vertex attribute '%s':", name);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; n; i++) {
        <span class="strong"><strong>printf</strong></span>(" %g", (float)<span class="strong"><strong><a class="link" href="igraph-Attributes.html#VAN" title="3.1.10. VAN — Query a numeric vertex attribute.">VAN</a></strong></span>(g, name, i));
    }
    <span class="strong"><strong>printf</strong></span>("\n");
}

void <span class="strong"><strong>dump_vertex_attribute_string</strong></span>(<span class="strong"><strong>const</strong></span> char* name, <span class="strong"><strong>const</strong></span> igraph_t* g) {
    long int i, n = <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(g);

    <span class="strong"><strong>printf</strong></span>("Vertex attribute '%s':", name);
    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; n; i++) {
        <span class="strong"><strong>printf</strong></span>(" %s", <span class="strong"><strong><a class="link" href="igraph-Attributes.html#VAS" title="3.1.18. VAS — Query a string vertex attribute.">VAS</a></strong></span>(g, name, i));
    }
    <span class="strong"><strong>printf</strong></span>("\n");
}

int <span class="strong"><strong>main</strong></span>() {
    igraph_t g;
    <a class="link" href="igraph-Error.html#igraph_error_handler_t" title="2.1. igraph_error_handler_t — The type of error handler functions.">igraph_error_handler_t</a>* oldhandler;
    <a class="link" href="igraph-Error.html#igraph_warning_handler_t" title="4.1. igraph_warning_handler_t — The type of igraph warning handler functions.">igraph_warning_handler_t</a>* oldwarnhandler;
    int result;
    FILE *ifile, *ofile;

    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#igraph_set_attribute_table" title="1.2. igraph_set_attribute_table — Attach an attribute table.">igraph_set_attribute_table</a></strong></span>(&amp;igraph_cattribute_table);

    <span class="emphasis"><em>/* GraphML */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("test.gxl", "r");
    <span class="strong"><strong>if</strong></span> (ifile == 0) {
        <span class="strong"><strong>return</strong></span> 10;
    }

    oldhandler = <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_ignore" title="2.3. igraph_error_handler_ignore — Ignore errors.">igraph_error_handler_ignore</a>);
    oldwarnhandler = <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_warning_handler" title="4.2. igraph_set_warning_handler — Installs a warning handler.">igraph_set_warning_handler</a></strong></span>(custom_warning_handler);
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="emphasis"><em>/* maybe it is simply disabled at compile-time */</em></span>
        <span class="strong"><strong>if</strong></span> (result == IGRAPH_UNIMPLEMENTED) {
            <span class="strong"><strong>return</strong></span> 77;
        }
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(oldhandler);

    <span class="strong"><strong>fclose</strong></span>(ifile);

    <span class="emphasis"><em>/* Write it back */</em></span>
    ofile = <span class="strong"><strong>fopen</strong></span>("test2.gxl", "w");
    <span class="emphasis"><em>/* If we can't create the test file, just skip the test */</em></span>
    <span class="strong"><strong>if</strong></span> (ofile) {
        <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_graphml" title="3.2. igraph_write_graph_graphml — Writes the graph to a file in GraphML format">igraph_write_graph_graphml</a></strong></span>(&amp;g, ofile, <span class="emphasis"><em>/*prefixattr=*/</em></span> 1))) {
            <span class="strong"><strong>return</strong></span> 1;
        }
        <span class="strong"><strong>fclose</strong></span>(ofile);
        <span class="strong"><strong>unlink</strong></span>("test2.gxl");
    }
    <span class="strong"><strong>dump_graph</strong></span>("The directed graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* The same with undirected graph */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("test.gxl", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The undirected graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a GraphML file with default attributes */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-default-attrs.xml", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The directed graph:\n", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_bool</strong></span>("type", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_string</strong></span>("gender", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_numeric</strong></span>("age", &amp;g);
    <span class="strong"><strong>dump_vertex_attribute_bool</strong></span>("retired", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a GraphML file with namespaces */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-namespace.xml", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The undirected graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a not-really-valid GraphML file as it has no namespace information */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-lenient.xml", "r");
    <span class="strong"><strong>if</strong></span> ((result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0))) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>dump_graph</strong></span>("The undirected graph:\n", &amp;g);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Test a completely malformed GraphML file */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-malformed.xml", "r");
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_ignore" title="2.3. igraph_error_handler_ignore — Ignore errors.">igraph_error_handler_ignore</a>);
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_warning_handler" title="4.2. igraph_set_warning_handler — Installs a warning handler.">igraph_set_warning_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_warning_handler_ignore" title="4.7. igraph_warning_handler_ignore — Ignores all warnings.">igraph_warning_handler_ignore</a>);
    result = <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0);
    <span class="strong"><strong>if</strong></span> (result != IGRAPH_PARSEERROR) {
        <span class="strong"><strong>return</strong></span> 1;
    }
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="emphasis"><em>/* Restore the old error handler */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_error_handler" title="5.1.1. igraph_set_error_handler — Sets a new error handler.">igraph_set_error_handler</a></strong></span>(<a class="link" href="igraph-Error.html#igraph_error_handler_abort" title="2.2. igraph_error_handler_abort — Abort program in case of error.">igraph_error_handler_abort</a>);

    <span class="emphasis"><em>/* Restore the old warning handler */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Error.html#igraph_set_warning_handler" title="4.2. igraph_set_warning_handler — Installs a warning handler.">igraph_set_warning_handler</a></strong></span>(oldwarnhandler);

    <span class="emphasis"><em>/* There were sometimes problems with this file */</em></span>
    <span class="emphasis"><em>/* Only if called from R though, and only on random occasions, once in every</em></span>
<span class="emphasis"><em>       ten reads. Do testing here doesn't make much sense, but if we have the file</em></span>
<span class="emphasis"><em>       then let's do it anyway. */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("graphml-hsa05010.xml", "r");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file.">igraph_read_graph_graphml</a></strong></span>(&amp;g, ifile, 0);
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="gml-format"></a>4. GML format</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_gml">4.1. <code class="function">igraph_read_graph_gml</code> —  Read a graph in GML format.</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_gml">4.2. <code class="function">igraph_write_graph_gml</code> —  Write the graph to a stream in GML format</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_gml"></a>4.1. <code class="function">igraph_read_graph_gml</code> —  Read a graph in GML format.</h3></div></div></div>
<a class="indexterm" name="id-1.22.7.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_gml(igraph_t *graph, FILE *instream);
</pre></div>
<p>
</p>
<p>



GML is a simple textual format, see
<a class="ulink" href="http://www.fim.uni-passau.de/en/fim/faculty/chairs/theoretische-informatik/projects.html" target="_top">http://www.fim.uni-passau.de/en/fim/faculty/chairs/theoretische-informatik/projects.html</a> for details.

</p>
<p>
Although all syntactically correct GML can be parsed,
we implement only a subset of this format, some attributes might be
ignored. Here is a list of all the differences:
</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
Only <code class="literal">node</code> and <code class="literal">edge</code> attributes are
     used, and only if they have a simple type: integer, real or
     string. So if an attribute is an array or a record, then it is
     ignored. This is also true if only some values of the
     attribute are complex.

</p></li>
<li class="listitem"><p>
Top level attributes except for <code class="literal">Version</code> and the
     first <code class="literal">graph</code> attribute are completely ignored.

</p></li>
<li class="listitem"><p>
Graph attributes except for <code class="literal">node</code> and
     <code class="literal">edge</code> are completely ignored.

</p></li>
<li class="listitem"><p>
There is no maximum line length.

</p></li>
<li class="listitem"><p>
There is no maximum keyword length.

</p></li>
<li class="listitem"><p>
Character entities in strings are not interpreted.

</p></li>
<li class="listitem"><p>
We allow <code class="literal">inf</code> (infinity) and <code class="literal">nan</code>
     (not a number) as a real number. This is case insensitive, so
     <code class="literal">nan</code>, <code class="literal">NaN</code> and <code class="literal">NAN</code> are equal.

</p></li>
</ol></div>
<p>

</p>
<p> Please contact us if you cannot live with these
limitations of the GML parser.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  The stream to read the GML file from.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: should be proportional to the length of the file.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file."><code class="function">igraph_read_graph_graphml()</code></a> for a more modern format,
<a class="link" href="igraph-Foreign.html#igraph_write_graph_gml" title="4.2. igraph_write_graph_gml — Write the graph to a stream in GML format"><code class="function">igraph_write_graph_gml()</code></a> for writing GML files.
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.7.2.12.1"></a><p class="title"><b>Example 21.6.  File <code class="code">examples/simple/gml.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2007-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard street, Cambridge, MA 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;

int <span class="strong"><strong>main</strong></span>() {
    igraph_t g;
    FILE *ifile;

    ifile = <span class="strong"><strong>fopen</strong></span>("karate.gml", "r");
    <span class="strong"><strong>if</strong></span> (ifile == 0) {
        <span class="strong"><strong>return</strong></span> 10;
    }

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_gml" title="4.1. igraph_read_graph_gml — Read a graph in GML format.">igraph_read_graph_gml</a></strong></span>(&amp;g, ifile);
    <span class="strong"><strong>fclose</strong></span>(ifile);

    <span class="strong"><strong>if</strong></span> (<span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g)) {
        <span class="strong"><strong>printf</strong></span>("directed\n");
    } <span class="strong"><strong>else</strong></span> {
        <span class="strong"><strong>printf</strong></span>("undirected\n");
    }

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong>printf</strong></span>("-----------------\n");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_gml" title="4.2. igraph_write_graph_gml — Write the graph to a stream in GML format">igraph_write_graph_gml</a></strong></span>(&amp;g, stdout, 0, "test suite");
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_gml"></a>4.2. <code class="function">igraph_write_graph_gml</code> —  Write the graph to a stream in GML format</h3></div></div></div>
<a class="indexterm" name="id-1.22.7.3.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_gml(const igraph_t *graph, FILE *outstream,
                           const igraph_vector_t *id, const char *creator);
</pre></div>
<p>
</p>
<p>



GML is a quite general textual format, see
<a class="ulink" href="http://www.fim.uni-passau.de/en/fim/faculty/chairs/theoretische-informatik/projects.html" target="_top">http://www.fim.uni-passau.de/en/fim/faculty/chairs/theoretische-informatik/projects.html</a> for details.

</p>
<p> The graph, vertex and edges attributes are written to the
file as well, if they are numeric or string.

</p>
<p> As igraph is more forgiving about attribute names, it might
be necessary to simplify the them before writing to the GML file.
This way we'll have a syntactically correct GML file. The following
simple procedure is performed on each attribute name: first the alphanumeric
characters are extracted, the others are ignored. Then if the first character
is not a letter then the attribute name is prefixed with <span class="quote">“<span class="quote">igraph</span>”</span>.
Note that this might result identical names for two attributes, igraph
does not check this.

</p>
<p> The <span class="quote">“<span class="quote">id</span>”</span> vertex attribute is treated specially.
If the <em class="parameter"><code>id</code></em> argument is not 0 then it should be a numeric
vector with the vertex ids and the <span class="quote">“<span class="quote">id</span>”</span> vertex attribute is
ignored (if there is one). If <em class="parameter"><code>id</code></em> is 0 and there is a
numeric <span class="quote">“<span class="quote">id</span>”</span> vertex attribute that is used instead. If ids
are not specified in either way then the regular igraph vertex ids are used.

</p>
<p> Note that whichever way vertex ids are specified, their
uniqueness is not checked.

</p>
<p> If the graph has edge attributes named <span class="quote">“<span class="quote">source</span>”</span>
or <span class="quote">“<span class="quote">target</span>”</span> they're silently ignored. GML uses these attributes
to specify the edges, so we cannot write them to the file. Rename them
before calling this function if you want to preserve them.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph to write to the stream.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The stream to write the file to.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>id</code></em>:</span></p></td>
<td><p>
  Either <code class="literal">NULL</code> or a numeric vector with the vertex ids.
       See details above.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>creator</code></em>:</span></p></td>
<td><p>
  An optional string to write to the stream in the creator line.
       If this is 0 then the current date and time is added.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: should be proportional to the number of characters written
to the file.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_gml" title="4.1. igraph_read_graph_gml — Read a graph in GML format."><code class="function">igraph_read_graph_gml()</code></a> for reading GML files,
<a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file."><code class="function">igraph_read_graph_graphml()</code></a> for a more modern format.
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.7.3.15.1"></a><p class="title"><b>Example 21.7.  File <code class="code">examples/simple/gml.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2007-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard street, Cambridge, MA 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;

int <span class="strong"><strong>main</strong></span>() {
    igraph_t g;
    FILE *ifile;

    ifile = <span class="strong"><strong>fopen</strong></span>("karate.gml", "r");
    <span class="strong"><strong>if</strong></span> (ifile == 0) {
        <span class="strong"><strong>return</strong></span> 10;
    }

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_gml" title="4.1. igraph_read_graph_gml — Read a graph in GML format.">igraph_read_graph_gml</a></strong></span>(&amp;g, ifile);
    <span class="strong"><strong>fclose</strong></span>(ifile);

    <span class="strong"><strong>if</strong></span> (<span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g)) {
        <span class="strong"><strong>printf</strong></span>("directed\n");
    } <span class="strong"><strong>else</strong></span> {
        <span class="strong"><strong>printf</strong></span>("undirected\n");
    }

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong>printf</strong></span>("-----------------\n");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_gml" title="4.2. igraph_write_graph_gml — Write the graph to a stream in GML format">igraph_write_graph_gml</a></strong></span>(&amp;g, stdout, 0, "test suite");
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="pajek-format"></a>5. Pajek format</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_pajek">5.1. <code class="function">igraph_read_graph_pajek</code> —  Reads a file in Pajek format</a></span></dt>
<dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_pajek">5.2. <code class="function">igraph_write_graph_pajek</code> —  Writes a graph to a file in Pajek format.</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_pajek"></a>5.1. <code class="function">igraph_read_graph_pajek</code> —  Reads a file in Pajek format</h3></div></div></div>
<a class="indexterm" name="id-1.22.8.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_pajek(igraph_t *graph, FILE *instream);
</pre></div>
<p>
</p>
<p>



</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>file</code></em>:</span></p></td>
<td><p>
  An already opened file handler.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<p>
Only a subset of the Pajek format is implemented. This is partially
because this format is not very well documented, but also because
<span class="command"><strong>igraph</strong></span> does not support some Pajek features, like
multigraphs.

</p>
<p>
Starting from version 0.6.1 igraph reads bipartite (two-mode)
graphs from Pajek files and add the <code class="constant">type</code> vertex attribute for them.
Warnings are given for invalid edges, i.e. edges connecting
vertices of the same type.

</p>
<p>
The list of the current limitations:
</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
Only <code class="filename">.net</code> files are supported, Pajek
project files (<code class="filename">.paj</code>) are not. These might be
supported in the future if there is need for it.

</p></li>
<li class="listitem"><p>
Time events networks are not supported.

</p></li>
<li class="listitem"><p>
Hypergraphs (i.e. graphs with non-binary edges) are not
supported.

</p></li>
<li class="listitem"><p>
Graphs with both directed and non-directed edges are not
supported, are they cannot be represented in
<span class="command"><strong>igraph</strong></span>.

</p></li>
<li class="listitem"><p>
Only Pajek networks are supported, permutations, hierarchies,
clusters and vectors are not.

</p></li>
<li class="listitem"><p>
Graphs with multiple edge sets are not supported.

</p></li>
</ol></div>
<p>

</p>
<p>
If there are attribute handlers installed,
<span class="command"><strong>igraph</strong></span> also reads the vertex and edge attributes
from the file. Most attributes are renamed to be more informative:
<code class="constant">color</code> instead of <code class="constant">c</code>, <code class="constant">xfact</code> instead of <code class="constant">x_fact</code>,
<code class="constant">yfact</code> instead of y_fact, <code class="constant">labeldist</code> instead of <code class="constant">lr</code>,
<code class="constant">labeldegree2</code> instead of <code class="constant">lphi</code>, <code class="constant">framewidth</code> instead of <code class="constant">bw</code>,
<code class="constant">fontsize</code>
instead of <code class="constant">fos</code>, <code class="constant">rotation</code> instead of <code class="constant">phi</code>, <code class="constant">radius</code> instead
of <code class="constant">r</code>,
<code class="constant">diamondratio</code> instead of <code class="constant">q</code>, <code class="constant">labeldegree</code> instead of <code class="constant">la</code>,
<code class="constant">vertexsize</code>
instead of <code class="constant">size</code>, <code class="constant">color</code> instead of <code class="constant">ic</code>, <code class="constant">framecolor</code> instead of
<code class="constant">bc</code>, <code class="constant">labelcolor</code> instead of <code class="constant">lc</code>, these belong to vertices.

</p>
<p>
Edge attributes are also renamed, <code class="constant">s</code> to <code class="constant">arrowsize</code>, <code class="constant">w</code>
to <code class="constant">edgewidth</code>, <code class="constant">h1</code> to <code class="constant">hook1</code>, <code class="constant">h2</code> to <code class="constant">hook2</code>,
<code class="constant">a1</code> to <code class="constant">angle1</code>, <code class="constant">a2</code> to <code class="constant">angle2</code>, <code class="constant">k1</code> to
<code class="constant">velocity1</code>, <code class="constant">k2</code> to <code class="constant">velocity2</code>, <code class="constant">ap</code> to <code class="constant">arrowpos</code>, <code class="constant">lp</code> to <code class="constant">labelpos</code>, <code class="constant">lr</code> to
<code class="constant">labelangle</code>, <code class="constant">lphi</code> to <code class="constant">labelangle2</code>, <code class="constant">la</code> to <code class="constant">labeldegree</code>, <code class="constant">fos</code> to
<code class="constant">fontsize</code>, <code class="constant">a</code> to <code class="constant">arrowtype</code>, <code class="constant">p</code> to <code class="constant">linepattern</code>, <code class="constant">l</code> to <code class="constant">label</code>, <code class="constant">lc</code> to
<code class="constant">labelcolor</code>, <code class="constant">c</code> to <code class="constant">color</code>.

</p>
<p>
In addition the following vertex attributes might be added: <code class="constant">id</code>
if there are vertex ids in the file, <code class="constant">x</code> and <code class="constant">y</code> or <code class="constant">x</code>
and <code class="constant">y</code> and <code class="constant">z</code> if there are vertex coordinates in the file.

</p>
<p>The <code class="constant">weight</code> edge attribute might be
added if there are edge weights present.

</p>
<p>
See the pajek homepage:
<a class="ulink" href="http://vlado.fmf.uni-lj.si/pub/networks/pajek/" target="_top">http://vlado.fmf.uni-lj.si/pub/networks/pajek/</a> for more info on
Pajek and the Pajek manual:
<a class="ulink" href="http://vlado.fmf.uni-lj.si/pub/networks/pajek/doc/pajekman.pdf" target="_top">http://vlado.fmf.uni-lj.si/pub/networks/pajek/doc/pajekman.pdf</a> for
information on the Pajek file format.

</p>
<p>
Time complexity: O(|V|+|E|+|A|), |V| is the number of vertices, |E|
the number of edges, |A| the number of attributes (vertex + edge)
in the graph if there are attribute handlers installed.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_write_graph_pajek" title="5.2. igraph_write_graph_pajek — Writes a graph to a file in Pajek format."><code class="function">igraph_write_graph_pajek()</code></a> for writing Pajek files, <a class="link" href="igraph-Foreign.html#igraph_read_graph_graphml" title="3.1. igraph_read_graph_graphml — Reads a graph from a GraphML file."><code class="function">igraph_read_graph_graphml()</code></a> for reading GraphML files.
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.8.2.19.1"></a><p class="title"><b>Example 21.8.  File <code class="code">examples/simple/foreign.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2006-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard street, Cambridge, MA 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;

int <span class="strong"><strong>main</strong></span>() {
    igraph_t g;
    FILE *ifile;

    <span class="emphasis"><em>/* PAJEK */</em></span>
    ifile = <span class="strong"><strong>fopen</strong></span>("links.net", "r");
    <span class="strong"><strong>if</strong></span> (ifile == 0) {
        <span class="strong"><strong>return</strong></span> 10;
    }
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_pajek" title="5.1. igraph_read_graph_pajek — Reads a file in Pajek format">igraph_read_graph_pajek</a></strong></span>(&amp;g, ifile);
    <span class="strong"><strong>fclose</strong></span>(ifile);
    <span class="strong"><strong>printf</strong></span>("The graph:\n");
    <span class="strong"><strong>printf</strong></span>("Vertices: %li\n", (long int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_vcount" title="3.2.1. igraph_vcount — The number of vertices in a graph.">igraph_vcount</a></strong></span>(&amp;g));
    <span class="strong"><strong>printf</strong></span>("Edges: %li\n", (long int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_ecount" title="3.2.2. igraph_ecount — The number of edges in a graph.">igraph_ecount</a></strong></span>(&amp;g));
    <span class="strong"><strong>printf</strong></span>("Directed: %i\n", (int) <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g));
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_pajek"></a>5.2. <code class="function">igraph_write_graph_pajek</code> —  Writes a graph to a file in Pajek format.</h3></div></div></div>
<a class="indexterm" name="id-1.22.8.3.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_pajek(const igraph_t *graph, FILE *outstream);
</pre></div>
<p>
</p>
<p>



</p>
<p>
The Pajek vertex and edge parameters (like color) are determined by
the attributes of the vertices and edges, of course this requires
an attribute handler to be installed. The names of the
corresponding vertex and edge attributes are listed at <a class="link" href="igraph-Foreign.html#igraph_read_graph_pajek" title="5.1. igraph_read_graph_pajek — Reads a file in Pajek format"><code class="function">igraph_read_graph_pajek()</code></a>, e.g. the <code class="constant">color</code> vertex attributes
determines the color (<code class="constant">c</code> in Pajek) parameter.

</p>
<p>
As of version 0.6.1 igraph writes bipartite graphs into Pajek files
correctly, i.e. they will be also bipartite when read into Pajek.
As Pajek is less flexible for bipartite graphs (the numeric IDs of
the vertices must be sorted according to vertex type), igraph might
need to reorder the vertices when writing a bipartite Pajek file.
This effectively means that numeric vertex IDs usually change when
a bipartite graph is written to a Pajek file, and then read back
into igraph.

</p>
<p>
Early versions of Pajek supported only Windows-style line endings
in Pajek files, but recent versions support both Windows and Unix
line endings. igraph therefore uses the platform-native line endings
when the input file is opened in text mode, and uses Unix-style
line endings when the input file is opened in binary mode. If you
are using an old version of Pajek, you are on Unix and you are having
problems reading files written by igraph on a Windows machine, convert the
line endings manually with a text editor or with <code class="constant">unix2dos</code> or <code class="constant">iconv</code>
from the command line).

</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph object to write.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The file to write to. It should be opened and
writable. Make sure that you open the file in binary format if you use MS Windows,
otherwise end of line characters will be messed up. (igraph will be able
to read back these messed up files, but Pajek won't.)
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(|V|+|E|+|A|), |V| is the number of vertices, |E|
is the number of edges, |A| the number of attributes (vertex +
edge) in the graph if there are attribute handlers installed.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_read_graph_pajek" title="5.1. igraph_read_graph_pajek — Reads a file in Pajek format"><code class="function">igraph_read_graph_pajek()</code></a> for reading Pajek graphs, <a class="link" href="igraph-Foreign.html#igraph_write_graph_graphml" title="3.2. igraph_write_graph_graphml — Writes the graph to a file in GraphML format"><code class="function">igraph_write_graph_graphml()</code></a> for writing a graph in GraphML format,
this suites <span class="command"><strong>igraph</strong></span> graphs better.
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.8.3.13.1"></a><p class="title"><b>Example 21.9.  File <code class="code">examples/simple/igraph_write_graph_pajek.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2006-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard st, Cambridge MA, 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;

int <span class="strong"><strong>main</strong></span>() {

    igraph_t g;
    igraph_strvector_t names;

    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#igraph_set_attribute_table" title="1.2. igraph_set_attribute_table — Attach an attribute table.">igraph_set_attribute_table</a></strong></span>(&amp;igraph_cattribute_table);

    <span class="emphasis"><em>/* save a simple ring graph */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Generators.html#igraph_ring" title="1.8. igraph_ring — Creates a cycle graph or a path graph.">igraph_ring</a></strong></span>(&amp;g, 10, IGRAPH_DIRECTED, 0 <span class="emphasis"><em>/* mutual */</em></span>, 1 <span class="emphasis"><em>/* circular */</em></span>);
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_pajek" title="5.2. igraph_write_graph_pajek — Writes a graph to a file in Pajek format.">igraph_write_graph_pajek</a></strong></span>(&amp;g, stdout);

    <span class="emphasis"><em>/* add some vertex attributes */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_init" title="9.1. igraph_strvector_init — Initialize">igraph_strvector_init</a></strong></span>(&amp;names, 0);
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "A");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "B");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "C");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "D");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "E");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "F");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "G");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "H");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "I");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "J");
    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#SETVASV" title="3.2.24. SETVASV — Set a string vertex attribute for all vertices">SETVASV</a></strong></span>(&amp;g, "id", &amp;names);
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_destroy" title="9.3. igraph_strvector_destroy — Free allocated memory">igraph_strvector_destroy</a></strong></span>(&amp;names);

    <span class="emphasis"><em>/* save the graph with vertex names */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_pajek" title="5.2. igraph_write_graph_pajek — Writes a graph to a file in Pajek format.">igraph_write_graph_pajek</a></strong></span>(&amp;g, stdout);

    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_init" title="9.1. igraph_strvector_init — Initialize">igraph_strvector_init</a></strong></span>(&amp;names, 0);
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "escaping spaces");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "escaping \\backslashes\\");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "square");
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_add" title="9.13. igraph_strvector_add — Adds an element to the back of a string vector.">igraph_strvector_add</a></strong></span>(&amp;names, "escaping \"quotes\"");
    <span class="strong"><strong><a class="link" href="igraph-Attributes.html#SETVASV" title="3.2.24. SETVASV — Set a string vertex attribute for all vertices">SETVASV</a></strong></span>(&amp;g, "shape", &amp;names);
    <span class="strong"><strong><a class="link" href="igraph-Data-structures.html#igraph_strvector_destroy" title="9.3. igraph_strvector_destroy — Free allocated memory">igraph_strvector_destroy</a></strong></span>(&amp;names);

    <span class="emphasis"><em>/* save the graph with escaped shapes */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_pajek" title="5.2. igraph_write_graph_pajek — Writes a graph to a file in Pajek format.">igraph_write_graph_pajek</a></strong></span>(&amp;g, stdout);

    <span class="emphasis"><em>/* destroy the graph */</em></span>
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);
    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ucinets-dl-file-format"></a>6. UCINET's DL file format</h2></div></div></div>
<div class="toc"><dl class="toc"><dt><span class="section"><a href="igraph-Foreign.html#igraph_read_graph_dl">6.1. <code class="function">igraph_read_graph_dl</code> —  Read a file in the DL format of UCINET</a></span></dt></dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_read_graph_dl"></a>6.1. <code class="function">igraph_read_graph_dl</code> —  Read a file in the DL format of UCINET</h3></div></div></div>
<a class="indexterm" name="id-1.22.9.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_read_graph_dl(igraph_t *graph, FILE *instream,
                         igraph_bool_t directed);
</pre></div>
<p>
</p>
<p>



This is a simple textual file format used by UCINET. See
<a class="ulink" href="http://www.analytictech.com/networks/dataentry.htm" target="_top">http://www.analytictech.com/networks/dataentry.htm</a> for
examples. All the forms described here are supported by
igraph. Vertex names and edge weights are also supported and they
are added as attributes. (If an attribute handler is attached.)

</p>
<p> Note the specification does not mention whether the
format is case sensitive or not. For igraph DL files are case
sensitive, i.e. <code class="constant">Larry</code> and <code class="constant">larry</code> are not the same.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  Pointer to an uninitialized graph object.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>instream</code></em>:</span></p></td>
<td><p>
  The stream to read the DL file from.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directed</code></em>:</span></p></td>
<td><p>
  Logical scalar, whether to create a directed file.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: linear in terms of the number of edges and
vertices, except for the matrix format, which is quadratic in the
number of vertices.

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.9.2.9.1"></a><p class="title"><b>Example 21.10.  File <code class="code">examples/simple/igraph_read_graph_dl.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2009-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard st, Cambridge MA, 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdlib.h&gt;

int <span class="strong"><strong>main</strong></span>() {

    <span class="strong"><strong>const</strong></span> char *files[] = { "fullmatrix1.dl", "fullmatrix2.dl",
                            "fullmatrix3.dl", "fullmatrix4.dl",
                            "edgelist1.dl", "edgelist2.dl", "edgelist3.dl",
                            "edgelist4.dl", "edgelist5.dl", "edgelist6.dl",
                            "edgelist7.dl", "nodelist1.dl", "nodelist2.dl"
                          };
    int no_files = <span class="strong"><strong>sizeof</strong></span>(files) / <span class="strong"><strong>sizeof</strong></span>(<span class="strong"><strong>const</strong></span> char*);
    int i, ret;
    igraph_t g;
    FILE *infile;

    <span class="strong"><strong>for</strong></span> (i = 0; i &lt; no_files; i++) {
        <span class="strong"><strong>printf</strong></span>("Doing %s\n", files[i]);
        infile = <span class="strong"><strong>fopen</strong></span>(files[i], "r");
        <span class="strong"><strong>if</strong></span> (!infile) {
            <span class="strong"><strong>printf</strong></span>("Cannot open file: %s\n", files[i]);
            <span class="strong"><strong>exit</strong></span>(1 + i);
        }
        <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_dl" title="6.1. igraph_read_graph_dl — Read a file in the DL format of UCINET">igraph_read_graph_dl</a></strong></span>(&amp;g, infile, <span class="emphasis"><em>/*directed=*/</em></span> 1);
        ret = <span class="strong"><strong>fclose</strong></span>(infile);
        <span class="strong"><strong>if</strong></span> (ret) {
            <span class="strong"><strong>printf</strong></span>("Cannot close file: %s\n", files[i]);
            <span class="strong"><strong>exit</strong></span>(101 + i);
        }
        <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
        <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);
    }

    <span class="strong"><strong>if</strong></span> (<span class="strong"><strong>IGRAPH_FINALLY_STACK_SIZE</strong></span>() != 0) {
        <span class="strong"><strong>return</strong></span> 1;
    }

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="graphviz-format"></a>7. Graphviz format</h2></div></div></div>
<div class="toc"><dl class="toc"><dt><span class="section"><a href="igraph-Foreign.html#igraph_write_graph_dot">7.1. <code class="function">igraph_write_graph_dot</code> —  Write the graph to a stream in DOT format</a></span></dt></dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="igraph_write_graph_dot"></a>7.1. <code class="function">igraph_write_graph_dot</code> —  Write the graph to a stream in DOT format</h3></div></div></div>
<a class="indexterm" name="id-1.22.10.2.2"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_write_graph_dot(const igraph_t *graph, FILE* outstream);
</pre></div>
<p>
</p>
<p>



DOT is the format used by the widely known GraphViz software, see
<a class="ulink" href="http://www.graphviz.org" target="_top">http://www.graphviz.org</a> for details. The grammar of the DOT format
can be found here: <a class="ulink" href="http://www.graphviz.org/doc/info/lang.html" target="_top">http://www.graphviz.org/doc/info/lang.html</a>

</p>
<p>This is only a preliminary implementation, only the vertices
and the edges are written but not the attributes or any visualization
information.

</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>graph</code></em>:</span></p></td>
<td><p>
  The graph to write to the stream.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>outstream</code></em>:</span></p></td>
<td><p>
  The stream to write the file to.</p></td>
</tr>
</tbody>
</table></div>
<p>


Time complexity: should be proportional to the number of characters written
to the file.

</p>
<p><b>See also: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  <a class="link" href="igraph-Foreign.html#igraph_write_graph_graphml" title="3.2. igraph_write_graph_graphml — Writes the graph to a file in GraphML format"><code class="function">igraph_write_graph_graphml()</code></a> for a more modern format.
  </p></td>
</tr></tbody>
</table></div>
<p>

</p>
<div class="hideshow" onClick="toggle(this, event)">
<div class="example">
<a name="id-1.22.10.2.9.1"></a><p class="title"><b>Example 21.11.  File <code class="code">examples/simple/dot.c</code></b></p>
<div class="example-contents">
<pre class="programlisting"><span class="emphasis"><em>/* -*- mode: C -*-  */</em></span>
<span class="emphasis"><em>/*</em></span>
<span class="emphasis"><em>   IGraph library.</em></span>
<span class="emphasis"><em>   Copyright (C) 2007-2012  Gabor Csardi </em></span>&lt;csardi.gabor@gmail.com&gt;
<span class="emphasis"><em>   334 Harvard street, Cambridge, MA 02139 USA</em></span>

<span class="emphasis"><em>   This program is free software; you can redistribute it and/or modify</em></span>
<span class="emphasis"><em>   it under the terms of the GNU General Public License as published by</em></span>
<span class="emphasis"><em>   the Free Software Foundation; either version 2 of the License, or</em></span>
<span class="emphasis"><em>   (at your option) any later version.</em></span>

<span class="emphasis"><em>   This program is distributed in the hope that it will be useful,</em></span>
<span class="emphasis"><em>   but WITHOUT ANY WARRANTY; without even the implied warranty of</em></span>
<span class="emphasis"><em>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</em></span>
<span class="emphasis"><em>   GNU General Public License for more details.</em></span>

<span class="emphasis"><em>   You should have received a copy of the GNU General Public License</em></span>
<span class="emphasis"><em>   along with this program; if not, write to the Free Software</em></span>
<span class="emphasis"><em>   Foundation, Inc.,  51 Franklin Street, Fifth Floor, Boston, MA</em></span>
<span class="emphasis"><em>   02110-1301 USA</em></span>

<span class="emphasis"><em>*/</em></span>

<span class="strong"><strong>#include</strong></span> &lt;igraph.h&gt;
<span class="strong"><strong>#include</strong></span> &lt;stdio.h&gt;

int <span class="strong"><strong>main</strong></span>() {

    igraph_t g;
    FILE *ifile;

    ifile = <span class="strong"><strong>fopen</strong></span>("karate.gml", "r");
    <span class="strong"><strong>if</strong></span> (ifile == 0) {
        <span class="strong"><strong>return</strong></span> 10;
    }

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_read_graph_gml" title="4.1. igraph_read_graph_gml — Read a graph in GML format.">igraph_read_graph_gml</a></strong></span>(&amp;g, ifile);
    <span class="strong"><strong>fclose</strong></span>(ifile);

    <span class="strong"><strong>if</strong></span> (<span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_is_directed" title="3.2.13. igraph_is_directed — Is this a directed graph?">igraph_is_directed</a></strong></span>(&amp;g)) {
        <span class="strong"><strong>printf</strong></span>("directed\n");
    } <span class="strong"><strong>else</strong></span> {
        <span class="strong"><strong>printf</strong></span>("undirected\n");
    }

    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_edgelist" title="1.2. igraph_write_graph_edgelist — Writes the edge list of a graph to a file.">igraph_write_graph_edgelist</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong>printf</strong></span>("-----------------\n");
    <span class="strong"><strong><a class="link" href="igraph-Foreign.html#igraph_write_graph_dot" title="7.1. igraph_write_graph_dot — Write the graph to a stream in DOT format">igraph_write_graph_dot</a></strong></span>(&amp;g, stdout);
    <span class="strong"><strong><a class="link" href="igraph-Basic.html#igraph_destroy" title="3.1.4. igraph_destroy — Frees the memory allocated for a graph object.">igraph_destroy</a></strong></span>(&amp;g);

    <span class="strong"><strong>return</strong></span> 0;
}
</pre>
<p></p>
</div>
</div>
<br class="example-break">
</div>
<p> 
</p>
</div>
</div>
</div>
<table class="navigation-footer" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle">
<td align="left"><a accesskey="p" href="igraph-Layout.html"><b>← Chapter 20. Generating layouts for graph drawing</b></a></td>
<td align="right"><a accesskey="n" href="igraph-Flows.html"><b>Chapter 22. Maximum flows, minimum cuts and related measures →</b></a></td>
</tr></table>


      </div>
    </div>
  </div>
</div>


    </div>

    <div id="footer"><div class="container-fluid">
      <p class="text-muted credit">
	      &copy; 2003 &ndash; 2025 The igraph core team.
        &bull; Code licensed under <a href="http://www.gnu.org/licenses/gpl-2.0.html"> GNU GPL 2</a> or later,
        documentation under <a href="http://www.gnu.org/copyleft/fdl.html">GNU FDL</a>.
      </p>
      <p class="social">
        <a href="https://twitter.com/igraph2"><i class="fa-brands fa-twitter"></i></a>
        <a rel="me" href="https://fosstodon.org/@igraph"><i class="fa-brands fa-mastodon"></i></a>
        <a href="https://discord.gg/cSyHDPJWDD"><i class="fa-brands fa-discord"></i></a>
      </p>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="/js/affix.js"></script>
    <script src="/js/jumbotron.js"></script>
    <script src="/js/toggle.js"></script>


    <script src="/js/doc-version-switcher.js"></script>
    <script>
        generateVersionSwitcher('#doc-version-switcher', 'c', 'html/');
    </script>





    
  </body>
</html>
