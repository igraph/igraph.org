




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon and theming -->
    <meta name="theme-color" content="#ffffff" />
    <link rel="icon" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />

    <title>igraph R manual pages</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DY4MJME11Z"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-DY4MJME11Z');
	</script>

    <link href="/css/manual.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" onload="processMathHTML();"></script>

  </head>

  <body class="r">
  <div id="wrap">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="/img/igraph_logo_white.svg" width="35"> igraph
      </a>

      
      <ul class="navbar-nav mr-auto">
        
        <li class="nav-item"><a class="nav-link" href="/r">igraph R package</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
            1.3.3
          </a>
          <div class="dropdown-menu" id="doc-version-switcher">
            <a class="dropdown-item" href="#">Please wait...</a>
          </div>
        </li>
        
      </ul>
      

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" id="productsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
            <div class="dropdown-menu" aria-labelledby="productsDropdown">
              <a class="dropdown-item" href="/r">igraph R package</a>
              <a class="dropdown-item" href="/python">python-igraph</a>
              <a class="dropdown-item" href="http://szhorvat.net/mathematica/IGraphM">IGraph/M</a>
              <a class="dropdown-item" href="/c">igraph C library</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="https://github.com/igraph/igraphdata">igraphdata R package <i class="fa fa-github"></i></a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news.html"><i class="fa fa-rss"></i> News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://igraph.discourse.group"><i class="fa fa-comments"></i> Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/code-of-conduct.html"><i class="fa fa-gavel"></i> Code of Conduct</a>
          </li>          
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/igraph"><i class="fa fa-github"></i> On GitHub</a>
          </li>
        </ul>
      </div>
    </nav>
    
    

    <div class="jumbotron">
      <div class="container">
        <h1 class="display-4">R igraph manual pages</h1>
        <p class="lead">Use this if you are using igraph from R</p>
      </div>
      <canvas id="jumbotron-anim"></canvas>
    </div>

    

    <div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="bs-docs-section">
        

<table width="100%"><tr><td>igraph-attribute-combination {igraph}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>How igraph functions handle attributes when the graph changes</h2>

<h3>Description</h3>

<p>Many times, when the structure of a graph is modified, vertices/edges map of
the original graph map to vertices/edges in the newly created (modified)
graph. For example <code><a href="simplify.html">simplify</a></code> maps multiple edges to single
edges. igraph provides a flexible mechanism to specify what to do with the
vertex/edge attributes in these cases.
</p>


<h3>Details</h3>

<p>The functions that support the combination of attributes have one or two
extra arguments called <code>vertex.attr.comb</code> and/or <code>edge.attr.comb</code>
that specify how to perform the mapping of the attributes. E.g.
<code><a href="contract.html">contract</a></code> contracts many vertices into a single one, the
attributes of the vertices can be combined and stores as the vertex
attributes of the new graph.
</p>
<p>The specification of the combination of (vertex or edge) attributes can be
given as </p>

<ol>
<li><p> a character scalar,
</p>
</li>
<li><p> a function object or
</p>
</li>
<li><p> a list of character scalars and/or function objects.
</p>
</li></ol>

<p>If it is a character scalar, then it refers to one of the predefined
combinations, see their list below.
</p>
<p>If it is a function, then the given function is expected to perform the
combination. It will be called once for each new vertex/edge in the graph,
with a single argument: the attribute values of the vertices that map to
that single vertex.
</p>
<p>The third option, a list can be used to specify different combination
methods for different attributes. A named entry of the list corresponds to
the attribute with the same name. An unnamed entry (i.e. if the name is the
empty string) of the list specifies the default combination method. I.e.
</p>
<pre>list(weight="sum", "ignore")</pre><p> specifies that the weight of the
new edge should be sum of the weights of the corresponding edges in the old
graph; and that the rest of the attributes should be ignored (=dropped).
</p>


<h3>Predefined combination functions</h3>

<p>The following combination
behaviors are predefined: </p>
 <dl>
<dt>&quot;ignore&quot;</dt><dd><p>The attribute is
ignored and dropped.</p>
</dd> <dt>&quot;sum&quot;</dt><dd><p>The sum of the attributes is
calculated. This does not work for character attributes and works for
complex attributes only if they have a <code>sum</code> generic defined. (E.g. it
works for sparse matrices from the <code>Matrix</code> package, because they have
a <code>sum</code> method.)</p>
</dd> <dt>&quot;prod&quot;</dt><dd><p>The product of the attributes is
calculated. This does not work for character attributes and works for
complex attributes only if they have a <code>prod</code> function defined.</p>
</dd>
<dt>&quot;min&quot;</dt><dd><p>The minimum of the attributes is calculated and returned.
For character and complex attributes the standard R <code>min</code> function is
used.</p>
</dd> <dt>&quot;max&quot;</dt><dd><p>The maximum of the attributes is calculated and
returned. For character and complex attributes the standard R <code>max</code>
function is used.</p>
</dd> <dt>&quot;random&quot;</dt><dd><p>Chooses one of the supplied
attribute values, uniformly randomly. For character and complex attributes
this is implemented by calling <code>sample</code>.</p>
</dd> <dt>&quot;first&quot;</dt><dd><p>Always
chooses the first attribute value. It is implemented by calling the
<code>head</code> function.</p>
</dd> <dt>&quot;last&quot;</dt><dd><p>Always chooses the last attribute
value. It is implemented by calling the <code>tail</code> function.</p>
</dd>
<dt>&quot;mean&quot;</dt><dd><p>The mean of the attributes is calculated and returned.
For character and complex attributes this simply calls the <code>mean</code>
function.</p>
</dd> <dt>&quot;median&quot;</dt><dd><p>The median of the attributes is selected.
Calls the R <code>median</code> function for all attribute types.</p>
</dd>
<dt>&quot;concat&quot;</dt><dd><p>Concatenate the attributes, using the <code>c</code>
function. This results almost always a complex attribute.</p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="graph_attr.html">graph_attr</a></code>, <code><a href="vertex_attr.html">vertex_attr</a></code>,
<code><a href="edge_attr.html">edge_attr</a></code> on how to use graph/vertex/edge attributes in
general. <code><a href="igraph_options.html">igraph_options</a></code> on igraph parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
g &lt;- graph( c(1,2, 1,2, 1,2, 2,3, 3,4) )
E(g)$weight &lt;- 1:5

## print attribute values with the graph
igraph_options(print.graph.attributes=TRUE)
igraph_options(print.vertex.attributes=TRUE)
igraph_options(print.edge.attributes=TRUE)

## new attribute is the sum of the old ones
simplify(g, edge.attr.comb="sum")

## collect attributes into a string
simplify(g, edge.attr.comb=toString)

## concatenate them into a vector, this creates a complex
## attribute
simplify(g, edge.attr.comb="concat")

E(g)$name &lt;- letters[seq_len(ecount(g))]

## both attributes are collected into strings
simplify(g, edge.attr.comb=toString)

## harmonic average of weights, names are dropped
simplify(g, edge.attr.comb=list(weight=function(x) length(x)/sum(1/x),
                                name="ignore"))
</code></pre>

<hr /><div style="text-align: center;">[Package <em>igraph</em> version 1.3.3 <a href="index.html">Index</a>]</div>
</div>


      </div>
    </div>
  </div>
</div>


    </div>

    <div id="footer"><div class="container-fluid">
      <p class="text-muted credit">
	  &copy; 2003 &ndash; 2023 The igraph core team.
            &bull; Code licensed under 
            <a href="http://www.gnu.org/licenses/gpl-2.0.html">
            GNU GPL 2</a> or later, documentation under 
            <a href="http://www.gnu.org/copyleft/fdl.html">
              GNU FDL.</a>
      </p>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="/js/affix.js"></script>
    <script src="/js/jumbotron.js"></script>
    <script src="/js/toggle.js"></script>


    <script src="/js/doc-version-switcher.js"></script>
    <script>
        generateVersionSwitcher('#doc-version-switcher', 'r', 'html/');
    </script>





    
  </body>
</html>
