




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon and theming -->
    <meta name="theme-color" content="#ffffff" />
    <link rel="icon" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />

    <title>igraph R manual pages</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DY4MJME11Z"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-DY4MJME11Z');
	</script>

    <link href="/css/manual.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" onload="processMathHTML();"></script>

  </head>

  <body class="r">
  <div id="wrap">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="/img/igraph_logo_white.svg" width="35"> igraph
      </a>

      
      <ul class="navbar-nav mr-auto">
        
        <li class="nav-item"><a class="nav-link" href="/r">igraph R package</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
            1.3.0
          </a>
          <div class="dropdown-menu" id="doc-version-switcher">
            <a class="dropdown-item" href="#">Please wait...</a>
          </div>
        </li>
        
      </ul>
      

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" id="productsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
            <div class="dropdown-menu" aria-labelledby="productsDropdown">
              <a class="dropdown-item" href="/r">igraph R package</a>
              <a class="dropdown-item" href="/python">python-igraph</a>
              <a class="dropdown-item" href="http://szhorvat.net/mathematica/IGraphM">IGraph/M</a>
              <a class="dropdown-item" href="/c">igraph C library</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="https://github.com/igraph/igraphdata">igraphdata R package <i class="fa fa-github"></i></a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news.html"><i class="fa fa-rss"></i> News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://igraph.discourse.group"><i class="fa fa-comments"></i> Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/code-of-conduct.html"><i class="fa fa-gavel"></i> Code of Conduct</a>
          </li>          
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/igraph"><i class="fa fa-github"></i> On GitHub</a>
          </li>
        </ul>
      </div>
    </nav>
    
    

    <div class="jumbotron">
      <div class="container">
        <h1 class="display-4">R igraph manual pages</h1>
        <p class="lead">Use this if you are using igraph from R</p>
      </div>
      <canvas id="jumbotron-anim"></canvas>
    </div>

    

    <div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="bs-docs-section">
        


<h2>Community structure detecting based on the leading eigenvector of the
community matrix</h2>

<h3>Description</h3>

<p>This function tries to find densely connected subgraphs in a graph by
calculating the leading non-negative eigenvector of the modularity matrix of
the graph.
</p>


<h3>Usage</h3>

<pre>
cluster_leading_eigen(
  graph,
  steps = -1,
  weights = NULL,
  start = NULL,
  options = arpack_defaults,
  callback = NULL,
  extra = NULL,
  env = parent.frame()
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>graph</code></td>
<td>
<p>The input graph. Should be undirected as the method needs a
symmetric matrix.</p>
</td></tr>
<tr valign="top"><td><code>steps</code></td>
<td>
<p>The number of steps to take, this is actually the number of
tries to make a step. It is not a particularly useful parameter.</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p>The weights of the edges. It must be a positive numeric vector,
<code>NULL</code> or <code>NA</code>. If it is <code>NULL</code> and the input graph has a
&lsquo;weight&rsquo; edge attribute, then that attribute will be used. If
<code>NULL</code> and no such attribute is present, then the edges will have equal
weights. Set this to <code>NA</code> if the graph was a &lsquo;weight&rsquo; edge
attribute, but you don't want to use it for community detection. A larger
edge weight means a stronger connection for this function.</p>
</td></tr>
<tr valign="top"><td><code>start</code></td>
<td>
<p><code>NULL</code>, or a numeric membership vector, giving the start
configuration of the algorithm.</p>
</td></tr>
<tr valign="top"><td><code>options</code></td>
<td>
<p>A named list to override some ARPACK options.</p>
</td></tr>
<tr valign="top"><td><code>callback</code></td>
<td>
<p>If not <code>NULL</code>, then it must be callback function. This
is called after each iteration, after calculating the leading eigenvector of
the modularity matrix. See details below.</p>
</td></tr>
<tr valign="top"><td><code>extra</code></td>
<td>
<p>Additional argument to supply to the callback function.</p>
</td></tr>
<tr valign="top"><td><code>env</code></td>
<td>
<p>The environment in which the callback function is evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function documented in these section implements the &lsquo;leading
eigenvector&rsquo; method developed by Mark Newman, see the reference below.
</p>
<p>The heart of the method is the definition of the modularity matrix,
<code>B</code>, which is <code>B=A-P</code>, <code>A</code> being the adjacency matrix of the
(undirected) network, and <code>P</code> contains the probability that certain
edges are present according to the &lsquo;configuration model&rsquo;. In other
words, a <code>P[i,j]</code> element of <code>P</code> is the probability that there is
an edge between vertices <code>i</code> and <code>j</code> in a random network in which
the degrees of all vertices are the same as in the input graph.
</p>
<p>The leading eigenvector method works by calculating the eigenvector of the
modularity matrix for the largest positive eigenvalue and then separating
vertices into two community based on the sign of the corresponding element
in the eigenvector. If all elements in the eigenvector are of the same sign
that means that the network has no underlying comuunity structure.  Check
Newman's paper to understand why this is a good method for detecting
community structure.
</p>


<h3>Value</h3>

<p><code>cluster_leading_eigen</code> returns a named list with the
following members: </p>
<table summary="R valueblock">
<tr valign="top"><td><code>membership</code></td>
<td>
<p>The membership vector at the end of the
algorithm, when no more splits are possible.</p>
</td></tr> <tr valign="top"><td><code>merges</code></td>
<td>
<p>The merges
matrix starting from the state described by the <code>membership</code> member.
This is a two-column matrix and each line describes a merge of two
communities, the first line is the first merge and it creates community
&lsquo;<code>N</code>&rsquo;, <code>N</code> is the number of initial communities in the
graph, the second line creates community <code>N+1</code>, etc.  </p>
</td></tr>
<tr valign="top"><td><code>options</code></td>
<td>
<p>Information about the underlying ARPACK computation, see
<code><a href="arpack.html">arpack</a></code> for details.  </p>
</td></tr>
</table>


<h3>Callback functions</h3>

<p>The <code>callback</code> argument can be used to
supply a function that is called after each eigenvector calculation. The
following arguments are supplied to this function: </p>

<dl>
<dt>membership</dt><dd><p>The actual membership vector, with zero-based indexing.</p>
</dd>
<dt>community</dt><dd><p>The community that the algorithm just tried to split,
community numbering starts with zero here.</p>
</dd>
<dt>value</dt><dd><p>The eigenvalue belonging to the leading eigenvector the
algorithm just found.</p>
</dd>
<dt>vector</dt><dd><p>The leading eigenvector the algorithm just found.</p>
</dd>
<dt>multiplier</dt><dd><p>An R function that can be used to multiple the actual
modularity matrix with an arbitrary vector. Supply the vector as an
argument to perform this multiplication. This function can be used
with ARPACK.</p>
</dd>
<dt>extra</dt><dd><p>The <code>extra</code> argument that was passed to
<code>cluster_leading_eigen</code>. </p>
</dd>
</dl>
<p>The callback function should return a scalar number. If this number
is non-zero, then the clustering is terminated.

</p>


<h3>Author(s)</h3>

<p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>


<h3>References</h3>

<p>MEJ Newman: Finding community structure using the eigenvectors
of matrices, Physical Review E 74 036104, 2006.
</p>


<h3>See Also</h3>

<p><code><a href="modularity.html">modularity</a></code>, <code><a href="cluster_walktrap.html">cluster_walktrap</a></code>,
<code><a href="cluster_edge_betweenness.html">cluster_edge_betweenness</a></code>,
<code><a href="cluster_fast_greedy.html">cluster_fast_greedy</a></code>, <code><a href="https://rdrr.io/r/stats/as.dendrogram.html">as.dendrogram</a></code>
</p>


<h3>Examples</h3>

<pre>

g &lt;- make_full_graph(5) %du% make_full_graph(5) %du% make_full_graph(5)
g &lt;- add_edges(g, c(1,6, 1,11, 6, 11))
lec &lt;- cluster_leading_eigen(g)
lec

cluster_leading_eigen(g, start=membership(lec))

</pre>

<hr /><div style="text-align: center;">[Package <em>igraph</em> version 1.3.0 <a href="index.html">Index</a>]</div>


      </div>
    </div>
  </div>
</div>


    </div>

    <div id="footer"><div class="container-fluid">
      <p class="text-muted credit">
	  &copy; 2003 &ndash; 2023 The igraph core team.
            &bull; Code licensed under 
            <a href="http://www.gnu.org/licenses/gpl-2.0.html">
            GNU GPL 2</a> or later, documentation under 
            <a href="http://www.gnu.org/copyleft/fdl.html">
              GNU FDL.</a>
      </p>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="/js/affix.js"></script>
    <script src="/js/jumbotron.js"></script>
    <script src="/js/toggle.js"></script>


    <script src="/js/doc-version-switcher.js"></script>
    <script>
        generateVersionSwitcher('#doc-version-switcher', 'r', 'html/');
    </script>





    
  </body>
</html>
