









<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico" type="image/png" />

    <title>igraph R manual pages</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1392972-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1392972-5');
    </script>

    <link href="/css/manual.css" rel="stylesheet">
  </head>

  <body class="r">
  <div id="wrap">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="/img/igraph_logo_white.svg" width="35"> igraph
      </a>

      
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="/r">igraph R package</a></li>
      </ul>
      

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" id="productsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
            <div class="dropdown-menu" aria-labelledby="productsDropdown">
              <a class="dropdown-item" href="/r">igraph R package</a>
              <a class="dropdown-item" href="/python">python-igraph</a>
              <a class="dropdown-item" href="http://szhorvat.net/mathematica/IGraphM">IGraph/M</a>
              <a class="dropdown-item" href="/c">igraph C library</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="https://github.com/igraph/igraphdata">igraphdata R package <i class="fa fa-github"></i></a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news.html"><i class="fa fa-rss"></i> News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://igraph.discourse.group"><i class="fa fa-comments"></i> Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/code-of-conduct.html"><i class="fa fa-gavel"></i> Code of Conduct</a>
          </li>          
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/igraph"><i class="fa fa-github"></i> On GitHub</a>
          </li>
        </ul>
      </div>
    </nav>
    
    

    <div class="jumbotron">
      <div class="container">
        <h1 class="display-4">R igraph manual pages</h1>
        <p class="lead">Use this if you are using igraph from R</p>
      </div>
      <canvas id="jumbotron-anim"></canvas>
    </div>

    

    <div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="bs-docs-section">
        


<h2>The Sugiyama graph layout generator</h2>

<h3>Description</h3>

<p>Sugiyama layout algorithm for layered directed acyclic graphs. The algorithm
minimized edge crossings.
</p>


<h3>Usage</h3>

<pre>
layout_with_sugiyama(
  graph,
  layers = NULL,
  hgap = 1,
  vgap = 1,
  maxiter = 100,
  weights = NULL,
  attributes = c("default", "all", "none")
)

with_sugiyama(...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>graph</code></td>
<td>
<p>The input graph.</p>
</td></tr>
<tr valign="top"><td><code>layers</code></td>
<td>
<p>A numeric vector or <code>NULL</code>. If not <code>NULL</code>, then it
should specify the layer index of the vertices. Layers are numbered from
one. If <code>NULL</code>, then igraph calculates the layers automatically.</p>
</td></tr>
<tr valign="top"><td><code>hgap</code></td>
<td>
<p>Real scalar, the minimum horizontal gap between vertices in the
same layer.</p>
</td></tr>
<tr valign="top"><td><code>vgap</code></td>
<td>
<p>Real scalar, the distance between layers.</p>
</td></tr>
<tr valign="top"><td><code>maxiter</code></td>
<td>
<p>Integer scalar, the maximum number of iterations in the
crossing minimization stage. 100 is a reasonable default; if you feel that
you have too many edge crossings, increase this.</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p>Optional edge weight vector. If <code>NULL</code>, then the
'weight' edge attribute is used, if there is one. Supply <code>NA</code> here and
igraph ignores the edge weights. These are used only if the graph
contains cycles; igraph will tend to reverse edges with smaller weights
when breaking the cycles.</p>
</td></tr>
<tr valign="top"><td><code>attributes</code></td>
<td>
<p>Which graph/vertex/edge attributes to keep in the extended
graph. &lsquo;default&rsquo; keeps the &lsquo;size&rsquo;, &lsquo;size2&rsquo;,
&lsquo;shape&rsquo;, &lsquo;label&rsquo; and &lsquo;color&rsquo; vertex attributes and the
&lsquo;arrow.mode&rsquo; and &lsquo;arrow.size&rsquo; edge attributes. &lsquo;all&rsquo;
keep all graph, vertex and edge attributes, &lsquo;none&rsquo; keeps none of
them.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Passed to <code>layout_with_sugiyama</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This layout algorithm is designed for directed acyclic graphs where each
vertex is assigned to a layer. Layers are indexed from zero, and vertices of
the same layer will be placed on the same horizontal line. The X coordinates
of vertices within each layer are decided by the heuristic proposed by
Sugiyama et al. to minimize edge crossings.
</p>
<p>You can also try to lay out undirected graphs, graphs containing cycles, or
graphs without an a priori layered assignment with this algorithm. igraph
will try to eliminate cycles and assign vertices to layers, but there is no
guarantee on the quality of the layout in such cases.
</p>
<p>The Sugiyama layout may introduce &ldquo;bends&rdquo; on the edges in order to
obtain a visually more pleasing layout. This is achieved by adding dummy
nodes to edges spanning more than one layer. The resulting layout assigns
coordinates not only to the nodes of the original graph but also to the
dummy nodes. The layout algorithm will also return the extended graph with
the dummy nodes.
</p>
<p>For more details, see the reference below.
</p>


<h3>Value</h3>

<p>A list with the components: </p>
<table summary="R valueblock">
<tr valign="top"><td><code>layout</code></td>
<td>
<p>The layout, a two-column
matrix, for the original graph vertices.</p>
</td></tr> <tr valign="top"><td><code>layout.dummy</code></td>
<td>
<p>The layout for
the dummy vertices, a two column matrix.</p>
</td></tr> <tr valign="top"><td><code>extd_graph</code></td>
<td>
<p>The original
graph, extended with dummy vertices.  The &lsquo;dummy&rsquo; vertex attribute is
set on this graph, it is a logical attributes, and it tells you whether the
vertex is a dummy vertex. The &lsquo;layout&rsquo; graph attribute is also set,
and it is the layout matrix for all (original and dummy) vertices.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tamas Nepusz <a href="mailto:ntamas@gmail.com">ntamas@gmail.com</a>
</p>


<h3>References</h3>

<p>K. Sugiyama, S. Tagawa and M. Toda, &quot;Methods for Visual
Understanding of Hierarchical Systems&quot;. IEEE Transactions on Systems, Man
and Cybernetics 11(2):109-125, 1981.
</p>


<h3>See Also</h3>

<p>Other graph layouts: 
<code><a href="add_layout_.html">add_layout_</a>()</code>,
<code><a href="component_wise.html">component_wise</a>()</code>,
<code><a href="layout_as_bipartite.html">layout_as_bipartite</a>()</code>,
<code><a href="layout_as_star.html">layout_as_star</a>()</code>,
<code><a href="layout_as_tree.html">layout_as_tree</a>()</code>,
<code><a href="layout_in_circle.html">layout_in_circle</a>()</code>,
<code><a href="layout_nicely.html">layout_nicely</a>()</code>,
<code><a href="layout_on_grid.html">layout_on_grid</a>()</code>,
<code><a href="layout_on_sphere.html">layout_on_sphere</a>()</code>,
<code><a href="layout_randomly.html">layout_randomly</a>()</code>,
<code><a href="layout_with_dh.html">layout_with_dh</a>()</code>,
<code><a href="layout_with_fr.html">layout_with_fr</a>()</code>,
<code><a href="layout_with_gem.html">layout_with_gem</a>()</code>,
<code><a href="layout_with_graphopt.html">layout_with_graphopt</a>()</code>,
<code><a href="layout_with_kk.html">layout_with_kk</a>()</code>,
<code><a href="layout_with_lgl.html">layout_with_lgl</a>()</code>,
<code><a href="layout_with_mds.html">layout_with_mds</a>()</code>,
<code><a href="layout_.html">layout_</a>()</code>,
<code><a href="merge_coords.html">merge_coords</a>()</code>,
<code><a href="norm_coords.html">norm_coords</a>()</code>,
<code><a href="normalize.html">normalize</a>()</code>
</p>


<h3>Examples</h3>

<pre>

## Data taken from http://tehnick-8.narod.ru/dc_clients/
DC &lt;- graph_from_literal("DC++" -+
                "LinuxDC++":"BCDC++":"EiskaltDC++":"StrongDC++":"DiCe!++",
                "LinuxDC++" -+ "FreeDC++", "BCDC++" -+ "StrongDC++",
                "FreeDC++" -+ "BMDC++":"EiskaltDC++",
                "StrongDC++" -+ "AirDC++":"zK++":"ApexDC++":"TkDC++",
                "StrongDC++" -+ "StrongDC++ SQLite":"RSX++",
                "ApexDC++" -+ "FlylinkDC++ ver &lt;= 4xx",
                "ApexDC++" -+ "ApexDC++ Speed-Mod":"DiCe!++",
                "StrongDC++ SQLite" -+ "FlylinkDC++ ver &gt;= 5xx",
                "ApexDC++ Speed-Mod" -+ "FlylinkDC++ ver &lt;= 4xx",
                "ApexDC++ Speed-Mod" -+ "GreylinkDC++",
                "FlylinkDC++ ver &lt;= 4xx" -+ "FlylinkDC++ ver &gt;= 5xx",
                "FlylinkDC++ ver &lt;= 4xx" -+ AvaLink,
                "GreylinkDC++" -+ AvaLink:"RayLinkDC++":"SparkDC++":PeLink)

## Use edge types
E(DC)$lty &lt;- 1
E(DC)["BCDC++" %-&gt;% "StrongDC++"]$lty &lt;- 2
E(DC)["FreeDC++" %-&gt;% "EiskaltDC++"]$lty &lt;- 2
E(DC)["ApexDC++" %-&gt;% "FlylinkDC++ ver &lt;= 4xx"]$lty &lt;- 2
E(DC)["ApexDC++" %-&gt;% "DiCe!++"]$lty &lt;- 2
E(DC)["StrongDC++ SQLite" %-&gt;% "FlylinkDC++ ver &gt;= 5xx"]$lty &lt;- 2
E(DC)["GreylinkDC++" %-&gt;% "AvaLink"]$lty &lt;- 2

## Layers, as on the plot
layers &lt;- list(c("DC++"),
               c("LinuxDC++", "BCDC++"),
               c("FreeDC++", "StrongDC++"),
               c("BMDC++", "EiskaltDC++", "AirDC++", "zK++", "ApexDC++",
                 "TkDC++", "RSX++"),
               c("StrongDC++ SQLite", "ApexDC++ Speed-Mod", "DiCe!++"),
               c("FlylinkDC++ ver &lt;= 4xx", "GreylinkDC++"),
               c("FlylinkDC++ ver &gt;= 5xx", "AvaLink", "RayLinkDC++",
                 "SparkDC++", "PeLink"))

## Check that we have all nodes
all(sort(unlist(layers)) == sort(V(DC)$name))

## Add some graphical parameters
V(DC)$color &lt;- "white"
V(DC)$shape &lt;- "rectangle"
V(DC)$size &lt;- 20
V(DC)$size2 &lt;- 10
V(DC)$label &lt;- lapply(V(DC)$name, function(x)
                      paste(strwrap(x, 12), collapse="\n"))
E(DC)$arrow.size &lt;- 0.5

## Create a similar layout using the predefined layers
lay1 &lt;-  layout_with_sugiyama(DC, layers=apply(sapply(layers,
                        function(x) V(DC)$name %in% x), 1, which))

## Simple plot, not very nice
par(mar=rep(.1, 4))
plot(DC, layout=lay1$layout, vertex.label.cex=0.5)

## Sugiyama plot
plot(lay1$extd_graph, vertex.label.cex=0.5)

## The same with automatic layer calculation
## Keep vertex/edge attributes in the extended graph
lay2 &lt;-  layout_with_sugiyama(DC, attributes="all")
plot(lay2$extd_graph, vertex.label.cex=0.5)

## Another example, from the following paper:
## Markus Eiglsperger, Martin Siebenhaller, Michael Kaufmann:
## An Efficient Implementation of Sugiyama's Algorithm for
## Layered Graph Drawing, Journal of Graph Algorithms and
## Applications 9, 305--325 (2005).

ex &lt;- graph_from_literal( 0 -+ 29: 6: 5:20: 4,
                 1 -+ 12,
                 2 -+ 23: 8,
                 3 -+  4,
                 4,
                 5 -+  2:10:14:26: 4: 3,
                 6 -+  9:29:25:21:13,
                 7,
                 8 -+ 20:16,
                 9 -+ 28: 4,
                10 -+ 27,
                11 -+  9:16,
                12 -+  9:19,
                13 -+ 20,
                14 -+ 10,
                15 -+ 16:27,
                16 -+ 27,
                17 -+  3,
                18 -+ 13,
                19 -+  9,
                20 -+  4,
                21 -+ 22,
                22 -+  8: 9,
                23 -+  9:24,
                24 -+ 12:15:28,
                25 -+ 11,
                26 -+ 18,
                27 -+ 13:19,
                28 -+  7,
                29 -+ 25                    )

layers &lt;- list( 0, c(5, 17), c(2, 14, 26, 3), c(23, 10, 18), c(1, 24),
                12, 6, c(29,21), c(25,22), c(11,8,15), 16, 27, c(13,19),
                c(9, 20), c(4, 28), 7 )

layex &lt;-  layout_with_sugiyama(ex, layers=apply(sapply(layers,
                        function(x) V(ex)$name %in% as.character(x)),
                        1, which))

origvert &lt;- c(rep(TRUE, vcount(ex)), rep(FALSE, nrow(layex$layout.dummy)))
realedge &lt;- as_edgelist(layex$extd_graph)[,2] &lt;= vcount(ex)
plot(layex$extd_graph, vertex.label.cex=0.5,
     edge.arrow.size=.5,
     vertex.size=ifelse(origvert, 5, 0),
     vertex.shape=ifelse(origvert, "square", "none"),
     vertex.label=ifelse(origvert, V(ex)$name, ""),
     edge.arrow.mode=ifelse(realedge, 2, 0))

</pre>

<hr /><div style="text-align: center;">[Package <em>igraph</em> version 1.2.6 <a href="00Index.html">Index</a>]</div>


      </div>
    </div>
  </div>
</div>


    </div>

    <div id="footer"><div class="container-fluid">
      <p class="text-muted credit">
      &copy; 2003 &ndash; 2020 The igraph core team.
            &bull; Code licensed under 
            <a href="http://www.gnu.org/licenses/gpl-2.0.html">
            GNU GPL 2</a> or later, documentation under 
            <a href="http://www.gnu.org/copyleft/fdl.html">
              GNU FDL.</a>
      </p>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="/js/affix.js"></script>
    <script src="/js/jumbotron.js"></script>
    <script src="/js/toggle.js"></script>

    
  </body>
</html>
