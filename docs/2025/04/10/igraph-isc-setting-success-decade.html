




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon and theming -->
    <meta name="theme-color" content="#ffffff" />
    <link rel="icon" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />

    <title>Setting up igraph for success in the next decade</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css" integrity="sha384-QYIZto+st3yW+o8+5OHfT6S482Zsvz2WfOzpFSXMF9zqeLcFV0/wlZpMtyFcZALm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/solid.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/brands.min.css">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DY4MJME11Z"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-DY4MJME11Z');
	</script>

    
  </head>

  <body class="">
  <div id="wrap">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="/img/igraph_logo_white.svg" width="35"> igraph
      </a>

      

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" id="productsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
            <div class="dropdown-menu" aria-labelledby="productsDropdown">
              <a class="dropdown-item" href="https://r.igraph.org">igraph R package</a>
              <a class="dropdown-item" href="https://python.igraph.org">python-igraph</a>
              <a class="dropdown-item" href="http://szhorvat.net/mathematica/IGraphM">IGraph/M</a>
              <a class="dropdown-item" href="/c">igraph C library</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="https://github.com/igraph/igraphdata">igraphdata R package <i class="fa-brands fa-github"></i></a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news.html"><i class="fa-solid fa-rss"></i> News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://igraph.discourse.group"><i class="fa-solid fa-comments"></i> Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/code-of-conduct.html"><i class="fa-solid fa-gavel"></i> Code of Conduct</a>
          </li>          
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/igraph"><i class="fa-brands fa-github"></i> On GitHub</a>
          </li>
        </ul>
      </div>
    </nav>
    
    

    <div class="jumbotron">
      <div class="container">
        <h1 class="display-4">News</h1>
        <p class="lead">About igraph releases and other things</p>
      </div>
      <canvas id="jumbotron-anim"></canvas>
    </div>

    

    <div class="container">
  <div class="row">
    <div class="col-md-3">
      <div class="bs-sidebar affix hidden-print" role="complementary">
        <ul class="nav bs-sidenav">
          
            <li>
              <a href="/2025/04/10/igraph-isc-setting-success-decade.html">Setting up igraph for success in the next decade</a>
            </li>
          
            <li>
              <a href="/2024/11/06/igraph-0.10.15-c.html">C/igraph 0.10.15</a>
            </li>
          
            <li>
              <a href="/2024/10/28/igraph-0.11.8-python.html">python-igraph 0.11.8</a>
            </li>
          
            <li>
              <a href="/2024/07/08/igraph-0.11.6-python.html">python-igraph 0.11.6</a>
            </li>
          
            <li>
              <a href="/2024/06/28/igraph-0.10.13-c.html">C/igraph 0.10.13</a>
            </li>
          
            <li>
              <a href="/2024/05/21/rigraph-2.0.0.html">The igraph R package crossed the 2.0 threshold!</a>
            </li>
          
            <li>
              <a href="/2024/05/07/igraph-0.11.5-python.html">python-igraph 0.11.5</a>
            </li>
          
            <li>
              <a href="/2024/05/06/igraph-0.10.12-c.html">C/igraph 0.10.12</a>
            </li>
          
            <li>
              <a href="/2024/04/02/igraph-0.10.11-c.html">C/igraph 0.10.11</a>
            </li>
          
            <li>
              <a href="/2024/02/13/igraph-0.10.10-c.html">C/igraph 0.10.10</a>
            </li>
          
          <li>
            <a href="">&hellip;</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="col-md-8">
      <div class="bs-docs-section">
        <div class="post-header">
          <h1>Setting up igraph for success in the next decade</h1>
	      <div class="post-time"><time class="text-muted">Apr 10th, 2025</time></div>
        </div>

        <p><em>Cross-posted on the <a href="https://cynkra.com/blog/2025-03-17-igraph-isc-setting-success-decade/">cynkra blog</a>.</em></p>

<p>One year ago, a small group of us at cynkra submitted a project proposal to the R Consortium’s ISC, which got approved.
We are very grateful for this <a href="https://r-consortium.org/all-projects/2024-group-1.html#setting-up-igraph-for-success-in-the-next-decade">support</a>.
In this post we shall explain what the motivation for our project was, what we accomplished… and what we hope to work on next!</p>

<!--more-->

<h2 id="why-did-igraph-need-some-dedicated-maintenance">Why did igraph need some dedicated maintenance?</h2>

<p>The first version of the igraph R package was published on CRAN in 2006.
Since then, the igraph C library that forms the core of the R package, and the R package itself, have been further developed and <a href="https://schochastics.github.io/R4SNA/intro.html#the-base-packages">widely used</a>.
Over the years, the R package has also accrued a bit of documentation debt and technical debt, that we wanted to tackle to set up igraph for success in the next decade.
Both aspects had the potential to simplify further updates of the package.</p>

<h2 id="adopting-the-lifecycle-system">Adopting the lifecycle system</h2>

<p>To provide a more consistent interface, part of igraph functions or arguments are slowly but consistently being deprecated.
Some of them used to be deprecated using custom solutions or base R deprecations.
In contrast, now all deprecations happen through the lifecycle package.
On manual pages, deprecation badges indicate the maintenance status of functions or arguments.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="s2">"igraph"</span><span class="p">)</span><span class="w">
</span><span class="c1">#&gt; </span><span class="w">
</span><span class="c1">#&gt; Attaching package: 'igraph'</span><span class="w">
</span><span class="c1">#&gt; The following objects are masked from 'package:stats':</span><span class="w">
</span><span class="c1">#&gt; </span><span class="w">
</span><span class="c1">#&gt;     decompose, spectrum</span><span class="w">
</span><span class="c1">#&gt; The following object is masked from 'package:base':</span><span class="w">
</span><span class="c1">#&gt; </span><span class="w">
</span><span class="c1">#&gt;     union</span><span class="w">
</span><span class="n">g</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample_gnp</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">)</span><span class="w">
</span><span class="n">graph.density</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="w">
</span><span class="c1">#&gt; Warning: `graph.density()` was deprecated in igraph 2.0.0.</span><span class="w">
</span><span class="c1">#&gt; ℹ Please use `edge_density()` instead.</span><span class="w">
</span><span class="c1">#&gt; This warning is displayed once every 8 hours.</span><span class="w">
</span><span class="c1">#&gt; Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span><span class="w">
</span><span class="c1">#&gt; generated.</span><span class="w">
</span><span class="c1">#&gt; [1] 0.5111111</span><span class="w">
</span></code></pre></div></div>

<p>Having everything in the “lifecycle system” now means the interface and documentation is consistent for users, and also that we can more easily increase deprecation levels over time by searching for lifecycle calls.
Last, but not least, all deprecations are listed in a <a href="https://r.igraph.org/articles/current-deprecations.html">vignette</a>.</p>

<h2 id="documentation-improvements">Documentation improvements</h2>

<p>Besides the documentation of lifecycle, we created and used a custom roxygen2 tags to link to the C docs from manual pages.
<a href="https://r.igraph.org/reference/sample_sbm.html#related-documentation-in-the-c-library">Example</a>.</p>

<h2 id="fewer-errors-better-errors">Fewer errors, better errors</h2>

<p>We have made a conscious effort to port errors from base R to cli, at the same time improving phrasing of errors.
For instance,</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stop</span><span class="p">(</span><span class="s2">"invalid value supplied for `weighted' argument, please see docs."</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>became</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cli</span><span class="o">::</span><span class="n">cli_abort</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="w">
  </span><span class="s2">"{.arg weighted} can't be {.obj_type_friendly {weighted}}."</span><span class="p">,</span><span class="w">
  </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"See {.help graph_from_biadjacency_matrix}'s manual page."</span><span class="w">
</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>which is more informative about the invalid value supplied, and which directly links to the manual page.</p>

<p>We have also fixed some bugs ( <a href="https://github.com/igraph/rigraph/pull/1716">example</a>).</p>

<h2 id="work-on-the-internals">Work on the internals</h2>

<p>We did a lot of refactoring!
Most of it was focussed on <a href="https://github.com/igraph/rigraph/pulls?q=sort%3Aupdated-desc+is%3Apr+in%3Atitle+%22test%3A%22+is%3Amerged">tests</a>, as <a href="/posts/2025-03-04-refactoring-test-files/">previously explained on this blog</a>: merging some test files to ensure alignment between R scripts and test files, refactoring test files for better readability and future debugging, updating the testthat usage by removing old expectations.
We also worked in the <code class="language-plaintext highlighter-rouge">R/</code>folder, for instance we replaced the usage of an embedded version of lazyeval with rlang calls.
( <a href="https://github.com/igraph/rigraph/pull/1441">PR 1</a>, <a href="https://github.com/igraph/rigraph/pull/1445">PR 2</a>)</p>

<h2 id="sharing-our-experience">Sharing our experience</h2>

<p>We shared our experience working on igraph in part of a talk and in various blog posts:</p>

<ul>
  <li>useR! 2024 keynote talk <a href="https://masalmon.eu/talks/2024-07-10-user-2024-rusty-code/">How your code might get rusty, and what you can do about it</a> – it presented our work on igraph.</li>
  <li>Blog post <a href="https://masalmon.eu/2024/05/15/refactoring-xml/">Automate code refactoring with {xmlparsedata} and {brio}</a> – how we replaced some old testthat’s expectations with new ones, using a script rather than manually.</li>
  <li>Blog post <a href="https://masalmon.eu/2024/05/23/refactoring-tests/">What I edit when refactoring a test file</a> – some rules for more readable test files, like putting expectations closer to the values they tackle.</li>
  <li>Blog post <a href="https://masalmon.eu/2024/07/18/extract-function-names-treesitter/">Extracting names of functions defined in a script with treesitter</a> – how we used a script to get a list of functions we needed to create.</li>
  <li>Blog post <a href="https://masalmon.eu/2024/09/03/roxygen2-custom-tag/">Create and use a custom roxygen2 tag</a> – how we created a custom roxygen2 tag to link to C docs from manual pages.</li>
  <li>Blog post <a href="https://masalmon.eu/2024/09/24/cover-modify-r-packages/">Cover and modify, some tips for R package development</a> – how we go about adding new tests.</li>
  <li>Blog post <a href="https://blog.cynkra.com/posts/2025-03-04-refactoring-test-files/">Organizing tests in R packages</a> – why and how we improved test organization in igraph.</li>
</ul>

<h2 id="conclusion">Conclusion</h2>

<p>We are proud of the progress made in the igraph codebase but we don’t want to stop here!
In particular, we’d really like to do more work on open issues to improve the state of the issue tracker and to ensure easier future triage ; to better describe and execute the scope differences between the C and R libraries ; and to make the documentation more complete and clearer.</p>

      </div>
    </div>
  </div>
</div>


    </div>

    <div id="footer"><div class="container-fluid">
      <p class="text-muted credit">
	      &copy; 2003 &ndash; 2025 The igraph core team.
        &bull; Code licensed under <a href="http://www.gnu.org/licenses/gpl-2.0.html"> GNU GPL 2</a> or later,
        documentation under <a href="http://www.gnu.org/copyleft/fdl.html">GNU FDL</a>.
      </p>
      <p class="social">
        <a href="https://twitter.com/igraph2"><i class="fa-brands fa-twitter"></i></a>
        <a rel="me" href="https://fosstodon.org/@igraph"><i class="fa-brands fa-mastodon"></i></a>
      </p>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="/js/affix.js"></script>
    <script src="/js/jumbotron.js"></script>
    <script src="/js/toggle.js"></script>




      <script>
        startAnimation();
      </script>



    
  </body>
</html>
