---
layout: r-manual
title: igraph R manual pages
mainheader: R igraph manual pages
lead: Use this if you are using igraph from R
vmenu: true

doctype: html/
langversion: 1.3.1
---


{% raw %}

<table width="100%"><tr><td>diversity {igraph}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Graph diversity</h2>

<h3>Description</h3>

<p>Calculates a measure of diversity for all vertices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diversity(graph, weights = NULL, vids = V(graph))
</code></pre>


<h3>Arguments</h3>

<table>
<tr valign="top"><td><code>graph</code></td>
<td>
<p>The input graph. Edge directions are ignored.</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p><code>NULL</code>, or the vector of edge weights to use for the
computation. If <code>NULL</code>, then the &lsquo;weight&rsquo; attibute is used. Note
that this measure is not defined for unweighted graphs.</p>
</td></tr>
<tr valign="top"><td><code>vids</code></td>
<td>
<p>The vertex ids for which to calculate the measure.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The diversity of a vertex is defined as the (scaled) Shannon entropy of the
weights of its incident edges:
</p>
<p style="text-align: center;"><code class="reqn">D(i)=\frac{H(i)}{\log k_i}</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">H(i)=-\sum_{j=1}^{k_i} p_{ij}\log p_{ij},</code>
</p>
<p> where
</p>
<p style="text-align: center;"><code class="reqn">p_{ij}=\frac{w_{ij}}{\sum_{l=1}^{k_i}}V_{il},</code>
</p>
<p> and <code class="reqn">k_i</code> is the (total) degree of vertex
<code class="reqn">i</code>, <code class="reqn">w_{ij}</code> is the weight of the edge(s) between vertices
<code class="reqn">i</code> and <code class="reqn">j</code>.
</p>
<p>For vertices with degree less than two the function returns <code>NaN</code>.
</p>


<h3>Value</h3>

<p>A numeric vector, its length is the number of vertices.
</p>


<h3>Author(s)</h3>

<p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>


<h3>References</h3>

<p>Nathan Eagle, Michael Macy and Rob Claxton: Network Diversity
and Economic Development, <em>Science</em> <b>328</b>, 1029&ndash;1031, 2010.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
g1 &lt;- sample_gnp(20, 2/20)
g2 &lt;- sample_gnp(20, 2/20)
g3 &lt;- sample_gnp(20, 5/20)
E(g1)$weight &lt;- 1
E(g2)$weight &lt;- runif(ecount(g2))
E(g3)$weight &lt;- runif(ecount(g3))
diversity(g1)
diversity(g2)
diversity(g3)
</code></pre>

<hr /><div style="text-align: center;">[Package <em>igraph</em> version 1.3.1 <a href="index.html">Index</a>]</div>
</div>
{% endraw %}
